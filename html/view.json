{
  "version": "2.117.0",
  "grid": {
    "layers": {
      "Default layer": {
        "name": "Default layer"
      },
      "Admin": {
        "name": "Admin"
      },
      "CalcualteSpectrum": {
        "name": "CalcualteSpectrum"
      },
      "Twig": {
        "name": "Twig"
      },
      "Form": {
        "name": "Form"
      },
      "LoadExample": {
        "name": "LoadExample"
      },
      "RocSample": {
        "name": "RocSample"
      },
      "PeakPicking": {
        "name": "PeakPicking"
      },
      "SaveLoadResults": {
        "name": "SaveLoadResults"
      },
      "SaveLoadResults Admin": {
        "name": "SaveLoadResults Admin"
      },
      "Calculate X shift function": {
        "name": "Calculate X shift function"
      },
      "Report": {
        "name": "Report"
      },
      "Report admin": {
        "name": "Report admin"
      },
      "ReportSelector": {
        "name": "ReportSelector"
      }
    },
    "xWidth": 10,
    "yHeight": 10
  },
  "modules": [
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "rowNumbering",
                  "forceFitColumns",
                  "filterColumns",
                  "highlightScroll"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [[]],
              "toolbar": [[]],
              "colorjpath": [["color"]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": [["cell"]],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/db85d9cc12c6204e4a3afb69bba6d695f6f8bad5/src/modules/types/edition/slick_grid/view.js#L918-L940"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "Sequence",
                "jpath": ["sequence"],
                "editor": "none",
                "forceType": "string",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 106,
                "hideColumn": []
              },
              {
                "name": "Type",
                "jpath": ["comment"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 50,
                "hideColumn": []
              },
              {
                "name": "MF",
                "jpath": ["mf"],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 69,
                "hideColumn": []
              },
              {
                "jpath": [],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              },
              {
                "name": "Ionization",
                "jpath": ["ionization", "mf"],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 64,
                "hideColumn": []
              },
              {
                "name": "MF Mass",
                "jpath": ["em"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 77,
                "hideColumn": []
              },
              {
                "name": "Th m/z",
                "jpath": ["ms", "em"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 62,
                "hideColumn": []
              },
              {
                "name": "Exp m/z",
                "jpath": ["ms", "target", "mass"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 77,
                "hideColumn": []
              },
              {
                "name": "ppm",
                "jpath": ["ms", "ppm"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 51,
                "hideColumn": []
              },
              {
                "name": "Charge",
                "jpath": ["ms", "charge"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 65,
                "hideColumn": []
              },
              {
                "name": "Intensity",
                "jpath": ["ms", "target", "intensity"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 61,
                "hideColumn": []
              },
              {
                "name": "Similarity",
                "jpath": ["ms", "similarity", "value"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00%'",
                "editorOptions": "",
                "width": 59,
                "hideColumn": []
              },
              {
                "name": "Qty",
                "jpath": ["ms", "similarity", "quantity"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00%'",
                "editorOptions": "",
                "width": 60,
                "hideColumn": []
              },
              {
                "name": "Group",
                "jpath": ["group"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 44,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "zoomTo",
                "tooltip": "Zoom to",
                "icon": "fa-search-plus",
                "backgroundColor": [255, 255, 255, 1],
                "color": [0, 0, 0, 1],
                "action": "ZoomToLine",
                "position": "end",
                "clickMode": "text",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": [""]
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 87,
            "height": 34
          },
          "zIndex": 0,
          "display": true,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 121,
            "top": 21
          },
          "size": {
            "width": 46,
            "height": 37
          },
          "zIndex": 0,
          "display": true,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 55.999997806549075,
            "top": 0.9985794067382813
          },
          "size": {
            "width": 46,
            "height": 37
          },
          "zIndex": 0,
          "display": false,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Twig": {
          "position": {
            "left": 59,
            "top": 0
          },
          "size": {
            "width": 89,
            "height": 19
          },
          "zIndex": 0,
          "display": true,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 30,
            "top": 6
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": true,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 30,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 1,
      "vars_in": [
        {
          "rel": "list",
          "name": "fragments"
        }
      ],
      "actions_in": [{}],
      "title": "List of fragments",
      "vars_out": [
        {
          "event": "onHover",
          "rel": "row",
          "jpath": [],
          "name": "info"
        },
        {
          "event": "onHover",
          "rel": "row",
          "jpath": ["ms", "similarity", "experimental"],
          "name": "similarityExperimental"
        },
        {
          "event": "onHover",
          "rel": "row",
          "jpath": ["ms", "similarity", "theoretical"],
          "name": "similarityTheoretical"
        },
        {
          "event": "onHover",
          "rel": "row",
          "jpath": ["ms", "similarity", "difference"],
          "name": "similarityDifference"
        }
      ],
      "actions_out": [
        {
          "event": "onHover",
          "rel": "row",
          "jpath": [],
          "name": "createSimilarityPeakWidth"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Export Data", "Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["x"],
                    "wheelAction": ["zoomY"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": ["bottom"],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [["track"]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [["yes"]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display", "sec", "main"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0.05"],
                    "afterSpacing": ["0.05"],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": [[]]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display", "sec", "main"]],
                    "label": ["Relative intensity [%]"],
                    "beforeSpacing": [0],
                    "afterSpacing": ["0.3"],
                    "min": ["0"],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "fullSpectrum",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "1",
                      "strokestyle": "1",
                      "plotcontinuous": "discrete",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": ["yes"]
                    },
                    {
                      "variable": "experimentalChart",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [255, 0, 5, 0.43],
                      "strokewidth": "1",
                      "strokestyle": "1",
                      "plotcontinuous": "automass",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": ["yes"]
                    },
                    {
                      "variable": "jcampExperimental",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [255, 11, 0, 0.51],
                      "strokewidth": "2",
                      "strokestyle": "1",
                      "plotcontinuous": "auto",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": [
                      "{height:'100%', fill: 'rgba(255,255,0,0.5)'}"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 57,
            "top": 35
          },
          "size": {
            "width": 87,
            "height": 52
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 30
          },
          "size": {
            "width": 53,
            "height": 45
          },
          "zIndex": 0,
          "display": true,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 44
          },
          "size": {
            "width": 40,
            "height": 37
          },
          "zIndex": 0,
          "display": true,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Twig": {
          "position": {
            "left": 59,
            "top": 47
          },
          "size": {
            "width": 70,
            "height": 27
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 57,
            "top": 25
          },
          "size": {
            "width": 84,
            "height": 47
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 57,
            "top": 25
          },
          "size": {
            "width": 84,
            "height": 47
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 57,
            "top": 25
          },
          "size": {
            "width": 84,
            "height": 47
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 57,
            "top": 36
          },
          "size": {
            "width": 77,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 30,
            "top": 42
          },
          "size": {
            "width": 77,
            "height": 44
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 57,
            "top": 36
          },
          "size": {
            "width": 34,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 57,
            "top": 36
          },
          "size": {
            "width": 77,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 57,
            "top": 30
          },
          "size": {
            "width": 77,
            "height": 48
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 57,
            "top": 30
          },
          "size": {
            "width": 77,
            "height": 48
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 57,
            "top": 30
          },
          "size": {
            "width": 77,
            "height": 48
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectra : blue: theoretical, red: experimental",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 2,
      "vars_in": [
        {
          "rel": "chart",
          "name": "fullSpectrum"
        },
        {
          "rel": "annotations",
          "name": "annotations"
        },
        {
          "rel": "annotations",
          "name": "kindAnnotations"
        },
        {
          "rel": "chart",
          "name": "experimentalChart"
        }
      ],
      "actions_in": [
        {
          "rel": "fromToX",
          "name": "ZoomTo"
        },
        {
          "rel": "fullOut",
          "name": "ZoomOut"
        },
        {
          "rel": "fullOut",
          "name": "fullOut"
        }
      ],
      "title": "Mass spectra : blue: theoretical, red: experimental",
      "vars_out": [
        {
          "event": "onMouseOverShape",
          "rel": "shapeInfos",
          "jpath": ["info"],
          "name": "info"
        },
        {
          "event": "onTrackMouse",
          "rel": "trackData",
          "jpath": [],
          "name": "trackMove"
        }
      ],
      "actions_out": [
        {
          "event": "onZoomChange",
          "rel": "fromToX",
          "jpath": [],
          "name": "zoomChanged"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Clear experimental spectrum",
              "icon": "fa-eraser",
              "action": "clearExperimentalSpectrum",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen", "Print"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "zindex": 5
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [""],
              "modifyInForm": [[]],
              "debouncing": [0],
              "formOptions": [["keepFormValueIfDataUndefined"]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 145,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 49
          },
          "zIndex": 0,
          "display": true,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 121,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 157,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 32
          },
          "size": {
            "width": 58,
            "height": 39
          },
          "zIndex": 0,
          "display": true,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 142,
            "top": 25
          },
          "size": {
            "width": 33,
            "height": 47
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 142,
            "top": 0
          },
          "size": {
            "width": 33,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 142,
            "top": 0
          },
          "size": {
            "width": 33,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 32,
            "height": 22
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 32,
            "height": 22
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 40
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 40
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 135,
            "top": 0
          },
          "size": {
            "width": 41,
            "height": 40
          },
          "zIndex": 0,
          "display": false,
          "title": "Info Box",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 3,
      "vars_in": [
        {
          "rel": "value",
          "name": "info"
        },
        {
          "rel": "tpl",
          "name": "twigTemplate"
        }
      ],
      "actions_in": [{}],
      "title": "Info Box",
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "let button = this.button;\nif (this.action && this.action.name) {\n    button=this.action.name;\n}\n\nconst emdb=API.cache('emdb');;\nconst MolecularFormula = API.cache('MolecularFormula');\nconst IsotopicDistribution=MolecularFormula.IsotopicDistribution;\n\nconst massData = API.cache('massData');\n\n\n\nswitch (button) {\n    case 'loadSpectrum':\n        loadSpectrum(massData);\n        this.hideButton('calibrateAndRecalculate');\n        return;\n    case 'calculate':\n        loadSpectrum(massData);\n        break;\n    case 'estimate':\n        let numberPossibilities=estimate(this.action.value);\n        if (numberPossibilities !== undefined) {\n          API.createData('numberPossibilities',numberPossibilities);  \n        }\n        return;\n    case 'calibrateAndRecalculate':\n        const shiftFunction=API.cache('shiftFunction');\n        if (! shiftFunction) {\n            API.showNotification('Unable to recalibrate the spectrum, no function available.')\n            return;\n        }\n        let x=massData.x.map( x => x-shiftFunction(x) );\n        loadSpectrum({\n            x,\n            y: massData.y\n        })\n        \n        break;\n    case 'UpdateAnalyseButtons':\n        console.log('UpdateAnalyseButtons')\n        if (API.cache('shiftFunction')) {\n            this.showButton('calibrateAndRecalculate');\n        } else {\n            this.hideButton('calibrateAndRecalculate');\n        }\n        return;\n}\n\n\nconst preferences=API.getData('preferences').resurrect();\nconst kind=preferences.sequenceKind;\n\nlet filter=JSON.parse(JSON.stringify(preferences.filter));\nif (emdb.experimentalSpectrum) {\n    let peaks=emdb.experimentalSpectrum.getPeaks({threshold: preferences.mass.threshold / 100});\n    filter.precision=preferences.mass.precision;\n    if (preferences.mass.monoisotopic) {\n        filter.targetMasses=peaks.map( peak => peak.x );\n        filter.targetIntensities=peaks.map( peak => peak.y );\n    }\n}\n\nlet similarity = JSON.parse(JSON.stringify(preferences.mass.similarity));\n\nlet fragments=[];\nlet database='';\n\ntry {\n    switch (kind) {\n        case 'peptidic':\n            emdb.fromPeptidicSequence(preferences.peptidic.sequence, {\n                ionizations: preferences.ionizations,\n                mfsArray: preferences.mfsArray,\n                digestion: preferences.peptidic.digestion,\n                fragmentation: preferences.peptidic.fragmentation,\n                protonationPH: preferences.peptidic.protonationPH,\n                protonation: preferences.peptidic.protonation,\n                allowNeutralLoss: preferences.peptidic.allowNeutralLoss,\n                filter\n            });\n            database='peptidic';\n            break;\n        case 'nucleic':\n            // temporary code to force remove ab fragmentation\n            preferences.nucleic.fragmentation.ab=undefined;\n            emdb.fromNucleicSequence(preferences.nucleic.sequence, {\n                ionizations:preferences.ionizations,\n                mfsArray:preferences.mfsArray,\n                fragmentation: preferences.nucleic.fragmentation,\n                info: preferences.nucleic.info,\n                onStep: (value) => API.doAction('setCurrentProgress', value),\n                filter\n            });\n            database='nucleic';\n            break;\n        case 'mixture':\n            emdb.fromRange(preferences.mfRange, {\n                ionizations:preferences.ionizations,\n                mfsArray:preferences.mfsArray,\n                onStep: (value) => API.doAction('setCurrentProgress', value),\n                filter\n            });\n            database='generated';\n            break;\n    }\n} catch (e) {\n    UI.showNotification(e.toString());\n}\n\nif (! database) return;\nfragments=emdb.get(database);\n\nif (preferences.mass.minSimilarity>0 && emdb.experimentalSpectrum) {\n    if (similarity.widthFunction) {\n        similarity.widthFunction =\n            'var massError = '+preferences.mass.precision+' * mass * 1e-6;\\n' + \n            similarity.widthFunction;\n    }\n\n    fragments = emdb.searchSimilarity({\n        flatten: true,\n        minSimilarity: preferences.mass.minSimilarity / 100,\n        filter,\n        similarity\n    });\n}\n\nAPI.createData('fragments', fragments);\n\nlet totalQuantity=0;\nconst sameEMcounter={};\nfragments.forEach( fragment => {\n    let em=Number(fragment.em);\n    if (! sameEMcounter[em]) {\n        sameEMcounter[em]=0;\n        if (fragment.ms && fragment.ms.similarity) totalQuantity+=fragment.ms.similarity.quantity;\n    }\n    sameEMcounter[em]++;\n});\n\nconst sameMSEMcounter={};\nconst uniqueMSEMFragments=[];\nfragments.forEach( fragment => {\n    let em=Number(fragment.ms.em);\n    if (! sameMSEMcounter[em]) {\n        sameMSEMcounter[em]=true;\n        uniqueMSEMFragments.push(fragment);\n    }\n});\n\n\nfragments.forEach( fragment => {\n    fragment.group=sameEMcounter[fragment.em];\n});\n\n// add highlight\nfragments.forEach( fragment => {\n    fragment._highlight=fragment.em || fragment.comment || Math.random();\n})\n\n\nAPI.createData('totalQuantity',totalQuantity);\n\n\n\nlet chargedFragments=uniqueMSEMFragments.filter(fragment => Number(fragment.ms.charge)!==0);\nchargedFragments.sort( (a,b) => b.ms.similarity.quantity - a.ms.similarity.quantity);\n\nif (chargedFragments.length>100) {\n    UI.showNotification('Limiting recontructed spectrum to 100 (out of '+chargedFragments.length+')','warning')\n    chargedFragments=chargedFragments.slice(0,100);\n}\n\nlet isotopicDistribution=new IsotopicDistribution(chargedFragments);\nvar data=isotopicDistribution.getXY({maxValue:false});\n\nvar fullSpectrum={\n    type:\"chart\",\n    value:{\n        title:\"Mass spectrum\",\n        data\n    }\n};\n\nAPI.createData(\"fullSpectrum\",fullSpectrum);\n\n\n\nwindow.setTimeout( () => {\n    switch (button) {\n        case 'calculate':\n            API.doAction('calculateXShiftFunction');\n            API.createData('rescaledMass','');\n            break;\n        case 'calibrateAndRecalculate':\n            API.doAction('calculateXNewShiftFunction');\n            API.createData('rescaledMass','Masses were recalibrated');\n            break;\n    }\n\n})\n\nfunction loadSpectrum(massData) {\n    if (! massData) return;\n    emdb.setExperimentalSpectrum(massData);\n    emdb.experimentalSpectrum.scaleY(100);\n    let data=emdb.experimentalSpectrum.data;\n\n    let peaksWidth;\n    try {\n        peaksWidth=emdb.experimentalSpectrum.peaksWidth();\n        API.cache('peaksWidth', peaksWidth);\n    } catch (e) {\n        console.log('Can not calculate peak width');\n    }\n    \n    \n    if (peaksWidth && peaksWidth.score.r2>0) {\n        API.createData('peaksWidths', peaksWidth.widths);\n        API.createData('peaksWidthFit', peaksWidth.fit);\n        API.createData('peaksWidthR2', peaksWidth.score.r2);\n        API.createData('peaksWidthTex', peaksWidth.tex);\n    } else {\n        UI.showNotification('Could not calculate peaks width','warning');\n        API.createData('peaksWidths', undefined);\n        API.createData('peaksWidthFit', undefined);\n        API.createData('peaksWidthR2', undefined);\n        API.createData('peaksWidthTex', undefined);\n    }\n\n    API.createData('peaks', JSON.parse(JSON.stringify(emdb.experimentalSpectrum.getPeaks())) );\n    API.createData('experimentalChart', data);\n    API.createData('experimentalIsContinuous', emdb.experimentalSpectrum.isContinuous());\n    API.doAction('autoPeakWidth');\n    \n    window.setTimeout( () => API.doAction('fullOut','xy'), 1);\n}\n\nfunction estimate(preferences) {\n    console.log({preferences});\n    switch (preferences.sequenceKind) {\n        case 'peptidic':\n            console.log('PEPTIDIC')\n            return emdb.fromPeptidicSequence(preferences.peptidic.sequence, {\n                ionizations: preferences.ionizations,\n                mfsArray: preferences.mfsArray,\n                digestion: preferences.peptidic.digestion,\n                fragmentation: preferences.peptidic.fragmentation,\n                protonationPH: preferences.peptidic.protonationPH,\n                protonation: preferences.peptidic.protonation,\n                allowNeutralLoss: preferences.peptidic.allowNeutralLoss,\n                limit: 10000,\n                estimate: true,\n            });\n        case 'nucleic':\n            return emdb.fromNucleicSequence(preferences.nucleic.sequence, {\n                ionizations:preferences.ionizations,\n                mfsArray:preferences.mfsArray,\n                fragmentation: preferences.nucleic.fragmentation,\n                info: preferences.nucleic.info,\n                estimate: true,\n            });\n        case 'polymer':\n            return emdb.fromRange(preferences.mfRange, {\n                ionizations:preferences.ionizations,\n                mfsArray:preferences.mfsArray,\n                estimate: true,\n            });\n    }\n}\n\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "src/util/ui",
                "alias": "UI"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "calculate",
                "label": "Calculate",
                "hide": [],
                "disable": []
              },
              {
                "name": "calibrateAndRecalculate",
                "label": "Calibrate and recalculate",
                "hide": ["hide"],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 1,
            "top": 50
          },
          "size": {
            "width": 56,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 56,
            "top": 0
          },
          "size": {
            "width": 73,
            "height": 43
          },
          "zIndex": 0,
          "display": true,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 50
          },
          "size": {
            "width": 56,
            "height": 5
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 50
          },
          "size": {
            "width": 56,
            "height": 5
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 50
          },
          "size": {
            "width": 56,
            "height": 5
          },
          "zIndex": 0,
          "display": false,
          "title": "Code to analyse the data",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 4,
      "vars_in": [{}],
      "actions_in": [
        {
          "rel": "execute",
          "name": "calculate"
        },
        {
          "rel": "execute",
          "name": "calibrateAndRecalculate"
        },
        {
          "rel": "execute",
          "name": "loadSpectrum"
        },
        {
          "rel": "execute",
          "name": "UpdateAnalyseButtons"
        },
        {
          "rel": "execute",
          "name": "estimate"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Code to analyse the data",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": ["html"],
              "outputType": [null],
              "btnvalue": ["Send script"],
              "iseditable": [["editable"]],
              "hasButton": [["button"]],
              "variable": [[]],
              "storeOnChange": [["store"]],
              "debouncing": [0],
              "script": [
                "<style>\n    #twig h1 {\n        text-align: center;\n    }\n    #twig {\n        font-size: 150%;\n    }\n    #twig th {\n        text-align: left;\n        vertical-align: top;\n    }\n</style>\n\n<div id=\"twig\">\n\n<h1>{{info.comment}}</h1>\n\n\n<table>\n    {% if info.sequence %}\n    <tr>\n        <th>\n            Sequence\n        </th>\n        <td>\n            {{info.sequence}}\n        </td>\n    </tr>\n    {% endif %}\n    <tr>\n        <th>MF</th>\n        <td>{{rendertype(info.mf,'mf')}}</td>\n    </tr>\n    <tr>\n        <th>Monoisotoic mass</th>\n        <td>{{info.em|number_format(4)}}</td>\n    </tr>\n    <tr>\n        <th>\n            Composition\n        </th>\n        <td>\n            <table>\n                {% for part in info.parts %}\n                    {% if part %}\n                        <tr>\n                            <td>\n                                {{part}}\n                            </td>\n                        </tr>\n                    {% endif %}\n                {% endfor %}\n            </table>\n            \n        </td>\n    </tr>\n    <tr>\n    <th>Ionization</th>\n        <td>{{rendertype(info.ms.ionization,'')}}</td>\n    </tr>\n    <tr>\n        <th>Expected observed mass</th>\n        <td>{{info.ms.em|number_format(4)}}</td>\n    </tr>\n    {% if info.ms.target %}\n    <tr>\n        <th>Closest experimental m/z</th>\n        <td>\n            {{info.ms.target.mass|number_format(4)}}\n            {% if info.ms.similarity.quantity %}\n                ({{rendertype(info.ms.similarity.quantity,{numeral:'0.00%'})}})\n            {% endif %}<br>\n            Δ {{rendertype(info.ms.delta*1000,{numeral:'0.00'})}} mDa \n            ({{rendertype(info.ms.ppm,{numeral:'0.00'})}} ppm)\n        </td>\n    </tr>\n    {% endif %}\n    <tr>\n        <th>Charge</th>\n        <td>{{info.ms.charge}}</td>\n    </tr>\n\n    \n</table>\n\n</div>\n\n"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [["yes"]],
              "tabSize": [4]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 58,
            "height": 31
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 5,
      "vars_in": [{}],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "twigTemplate"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [""],
              "modifyInForm": [["yes"]],
              "debouncing": [250],
              "formOptions": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 6
          },
          "size": {
            "width": 56,
            "height": 44
          },
          "zIndex": 0,
          "display": true,
          "title": "Settings",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 53,
            "height": 29
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 55,
            "height": 36
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 39
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 134,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 82
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 72
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 51,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 49
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 110,
            "top": 23
          },
          "size": {
            "width": 58,
            "height": 64
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 51,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 6,
      "vars_in": [
        {
          "rel": "tpl",
          "name": "formTemplate"
        },
        {
          "rel": "form",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "event": "onFormSubmitted",
          "rel": "form",
          "jpath": [],
          "name": "estimate"
        },
        {
          "event": "onFormChanged",
          "rel": "form",
          "jpath": [],
          "name": "estimate"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Explode sequence",
              "icon": "fa-bomb",
              "action": "ExplodeSequence",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "List possible group abbreviations",
              "icon": "fa-table",
              "action": "ShowGroups",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Default prefrences",
              "icon": "fa-dot-circle",
              "action": "ResetPreferences",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Reload preferences",
              "icon": "fa-tasks",
              "action": "selectResultTemplate",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Save preferences as template",
              "icon": "fa-save",
              "action": "saveResultTemplate",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Auto calculate peak width",
              "icon": "fa-arrows-alt-h",
              "action": "autoPeakWidth",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Settings",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": ["html"],
              "outputType": [null],
              "btnvalue": ["Send script"],
              "iseditable": [["editable"]],
              "hasButton": [[]],
              "variable": [[]],
              "storeOnChange": [["store"]],
              "debouncing": [2000],
              "script": [
                "<style>\n    #twigForm .selector {\n        font-size: 1.5em;\n        color: maroon;\n        font-weight: bold;\n    } \n    #twigForm .selector input[type=radio]  {\n        height: 20px;\n\t    width: 20px;\n    }t\n    #twigForm h1,#twigForm h2 {\n        padding-top:20px;\n        padding-bottom:10px;\n    }\n    #twigForm th {\n        vertical-align: top;\n        text-align: left;\n        font-size: 1.2em;\n    }\n    #twigForm button {\n        background-color: 'red';\n        font-size: 0.8em;\n        border: 1px outset darkGrey;\n        background-color: lightGrey;\n    }\n    #twigForm td {\n        vertical-align: top;\n    }\n    #twigForm>table>tbody>tr>td, #emForm tr>th {\n      padding-bottom: 1em;\n    }\n    #twigForm input[type=number] {\n        width: 50px;\n    }\n    #twigForm i {\n        font-size: 0.8em;\n        font-style: italic;\n    }\n    #twigForm .border td, #twigForm .border th {\n        padding: 4px;\n        border: 0.5px solid grey;\n    }\n</style>\n<form>\n    <div id='twigForm'>\n    <h1>\n        Molecule and fragment generation\n    </h1>\n    <div class='selector'>\n        <input type='radio' name='sequenceKind' onclick=\"togglePeptidic(this);\" value='mixture'>Mixture\n        <input type='radio' name='sequenceKind' onclick=\"togglePeptidic(this);\" value='peptidic'>Apm²S <small>Peptidic sequence</small>\n        <input type='radio' name='sequenceKind' onclick=\"togglePeptidic(this);\" value='nucleic'>Aom²S <small>Nucleic sequence</small>\n    </div>\n    \n    <div class=\"mixture\" style=\"display: none\">\n        You can specify a list of allowed fragments and the system will combine\n        them and generate all the possibilites\n        <pre>\n            H (CH2CH2O)0-100\n            H,Me,Et,Ph\n        </pre>\n    </div>\n    \n    <div class=\"peptidic\" style=\"display: none\">\n        This tool allows to copy / paste directly a sequence of amino sequence as a one letter or 3 letters code.\n        You may also use sequence copied directly from UniProt or Pdb like for example:\n        <pre>\n        SEQRES   1 A 1020  MET LEU SER ALA HIS GLN TRP LEU ARG HIS CYS ILE ILE\n        SEQRES   2 A 1020  GLY VAL ALA SER VAL ALA LEU LEU GLN ALA CYS SER LYS \n        SEQRES   3 A 1020  GLN THR GLY ASN GLU SER SER SER SER ALA LYS SER ALA\n                10         20         30         40         50         60 \n        MRAMRLRDTT AVAHTLGRKV YSSLKRAAVN NLDLFAGGAA AGAVLLHLLD DVHAAGDLAE \n        </pre>\n        The system also allows a 1 letter code for nucleotide sequence.\n    </div>\n\n<table>\n    <tr class=\"mixture\" style=\"display: none\">\n        <th nowrap>MF range</th>\n        <td style=\"display: flex\">\n            <textarea cols=50 rows=8 name=\"mfRange\" />\n        </td>\n    </tr>\n    <tr class=\"peptidic\" style=\"display: none\">\n        <th nowrap>Sequence</th>\n        <td style=\"display: flex\">\n            <span>N<sub>term</sub></span>\n            <textarea cols=45 rows=8 name=\"peptidic.sequence\" />\n            <span>C<sub>term</sub></span>\n        </td>\n    </tr>\n    <tr class=\"nucleic\" style=\"display: none\">\n        <th nowrap>Sequence</th>\n        <td>\n            <div>\n               Type: <select name='nucleic.info.kind'>\n                    <option value='DNA' selected>DNA</option>\n                    <option value='ds-DNA'>ds-DNA</option>\n                    <option value='RNA'>RNA</option>\n                </select>&nbsp;\n                5': <select name='nucleic.info.fivePrime'>\n                    <option value='Alcohol'>Alcohol</option>\n                    <option value='Monophosphate'>Monophosphate</option>\n                    <option value='Diphosphate'>Diphosphate</option>\n                    <option value='Triphosphate'>Triphosphate</option>\n                </select>\n                - Circular: \n                <input type='checkbox' name='nucleic.info.circular'> \n            </div>\n            <div style=\"display: flex;\">\n                <span>5'</span>\n                <textarea cols=45 rows=8 name=\"nucleic.sequence\" />\n                <span>3'</span> \n            </div>\n            \n           \n        </td>\n    </tr>\n    <tr>\n        <th>Ionizations</th>\n        <td>\n            <input type=\"text\" name=\"ionizations\" size=55><br>\n            <i>Comma separated list of way to charge the molecule. ie (H+)2,(H+),(+),(H+)-5</i>\n        </td>\n    </tr>\n    <tr>\n        <th>Variable groups</th>\n        <td>\n            You can specify an unlimited number of groups that will be compined with the sequence fragments.<br>\n            <span onclick=\"toggle(this);\">▶</span>\n            <div style=\"display: none\">\n            <i>First list of groups separated by ','</i><br>\n            <textarea name=\"mfsArray.0\" rows=2 cols=50 /><br>\n            <i>Second list of groups separated by ','</i><br>\n            <textarea name=\"mfsArray.1\" rows=2 cols=50 /><br>\n            <i>Third list of groups separated by ','</i><br>\n            <textarea name=\"mfsArray.2\" rows=2 cols=50 /><br>\n            <i>Forth list of groups separated by ','</i><br>\n            <textarea name=\"mfsArray.3\" rows=2 cols=50 /><br>\n            <i>Fifth list of groups separated by ','</i><br>\n            <textarea name=\"mfsArray.4\" rows=2 cols=50 /><br>\n            </div>\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>\n            MF Filters\n        </th>\n        <td>\n            Results can be filtered using many criteria<br>\n            <span onclick=\"toggle(this);\">▶</span>\n            <div style=\"display: none\">\n                <table>\n                    <tr>\n                        <td>Charge: </td>\n                        <td>\n                            Min: <input type=\"number\" name=\"filter.minCharge\"> - \n                            Max: <input type=\"number\" name=\"filter.maxCharge\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Range of experimental m/z: </td>\n                        <td>\n                            Min: <input type=\"number\" name=\"filter.minMSEM\"> - \n                            Max: <input type=\"number\" name=\"filter.maxMSEM\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Unsaturation: </td>\n                        <td>\n                            Min: <input type=\"number\" name=\"filter.unsaturation.min\"> - \n                            Max: <input type=\"number\" name=\"filter.unsaturation.max\"><br>\n                            Integer: <input type=\"checkbox\" name=\"filter.unsaturation.onlyInteger\"> - \n                            non-integer: <input type=\"checkbox\" name=\"filter.unsaturation.onlyNonInteger\">\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>\n            Spectrum Filters\n        </th>\n        <td>\n            Results can be filtered based on presence of peaks in mass spectrum<br>\n            <span onclick=\"toggle(this);\">▶</span>\n            <div style=\"display: none\">\n                <table>\n                    <tr>\n                        <td>Threshold: </td>\n                        <td>\n                            <input type=\"number\" name=\"mass.threshold\" min=\"0\" max=\"100\" step=\"any\"> %<br>\n                            <i>Minimal height of peaks compare to base peak (value in % between 0 and 100)</i>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Mass accuracy: </td>\n                        <td>\n                            <input type=\"number\" name=\"mass.precision\"> ppm\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Monoisotopic mass</td>\n                        <td>\n                            <input type=\"checkbox\" name=\"mass.monoisotopic\"> Monoisotopic peak has to be present\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Minimum similarity: </td>\n                        <td>\n                            <b>Similarity calculation is only done if the minimum similarity is over 0</b><br>\n                            <input type=\"text\" name=\"mass.minSimilarity\" min=\"0\" max=\"100\" step=\"any\" size=\"6\"> %\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Zone:</td>\n                        <td>\n                            Define the zone used for comparison based on monoisotopic mass<br>\n                            Low: <input type=\"text\" name=\"mass.similarity.zone.low\" size=\"10\"> -\n                            High: <input type=\"text\" name=\"mass.similarity.zone.high\" size=\"10\"><br>\n                            <input type=\"hidden\" name=\"mass.similarity.common\" value=\"second\">\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </td>\n    </tr>\n\n     <tr class=\"peptidic\" style=\"display: none\">\n        <th>\n            Digestion\n        </th>\n        <td>\n            Digestion of peptide before fragmentation.<br>\n            <span onclick=\"toggle(this);\">▶</span>\n            <div style=\"display: none\">\n                Enzyme:\n                <select name=\"peptidic.digestion.enzyme\">\n                    <option value=\"\"></option>\n                    <option value=\"Chymotrypsin\">Chymotrypsin</option>\n                    <option value=\"Trypsin\">Trypsin</option>\n                    <option value=\"Lys C\">Lys C</option>\n                    <option value=\"Glu C pH4\">Glu C pH4</option>\n                    <option value=\"Glu C pH8\">Glu C pH8</option>\n                    <option value=\"Thermolysin\">Thermolysin</option>\n                    <option value=\"Cyanogen Bromide\">Cyanogen Bromide</option>\n                    <option value=\"Any\">Any</option>\n                </select><br>\n                Missed: \n                min: <input type=\"number\" name=\"peptidic.digestion.minMissed\"> - \n                max: <input type=\"number\" name=\"peptidic.digestion.maxMissed\"><br>\n                Nb residue:\n                min: <input type=\"number\" name=\"peptidic.digestion.minResidue\"> - \n                max: <input type=\"number\" name=\"peptidic.digestion.maxResidue\">\n            </div><br>\n        </td>\n    </tr>\n\n    <tr class=\"peptidic\" style=\"display: none\">\n        <th>\n            Peptidic sequence\n        </th>\n        <td>\n            Protonate basic aa:\n            <input type=\"checkbox\" name=\"peptidic.protonation\"> - \n            pH for protonation: \n            <input type=\"number\" name=\"peptidic.protonationPH\"><br>\n            Fragmentation:\n            <table class=\"border\" style=\"border-collapse: collapse;\">\n                <tr class=\"border\">\n                    <td id=\"peptidicFragmentation\">\n                        <button onclick=\"toggleCheckBox('peptidicFragmentation', true)\">✔</button>\n                        <button onclick=\"toggleCheckBox('peptidicFragmentation', false)\">✘︎</button><br>\n       \n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.a\"><i>Fragment A</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.b\"><i>Fragment B</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.c\"><i>Fragment C</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.x\"><i>Fragment X</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.y\"><i>Fragment Y</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.z\"><i>Fragment Z</i><br>\n                    </td>\n                    <td id=\"peptidicOther\">\n                        <button onclick=\"toggleCheckBox('peptidicOther', true)\">✔</button>\n                        <button onclick=\"toggleCheckBox('peptidicOther', false)\">✘︎</button><br>\n       \n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.ya\"><i>Internal fragments Y A</i><br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.yb\"><i>Internal fragments Y B</i><br>\n                        Internal fragment length: \n                        min: <input type=\"number\" name=\"peptidic.fragmentation.minInternal\"> - \n                        max: <input type=\"number\" name=\"peptidic.fragmentation.maxInternal\"><br>\n                        <br>\n                        <input type=\"checkbox\" name=\"peptidic.fragmentation.i\">Immonium ions<br>\n                        <input type=\"checkbox\" name=\"peptidic.allowNeutralLoss\">Allow neutral loss<br>\n                    </td>\n                </tr>\n            </table>\n\n        </td>\n    </tr>\n    \n    <tr class=\"nucleic\" style=\"display: none\">\n        <th>\n            MS/MS fragment types\n        </th>\n        <td>\n    \n            \n            <table class=\"border\" style=\"border-collapse: collapse;\">\n                <tr>\n                    <th>Fragments</th>\n                    <th>Fragment losses</th>\n                    <th>Internal fragments</th>\n                </tr>\n                <tr>\n                    <td id=\"nucleicFragmentation\">\n                        <button onclick=\"toggleCheckBox('nucleicFragmentation', true)\">✔</button>\n                        <button onclick=\"toggleCheckBox('nucleicFragmentation', false)\">✘︎</button><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.a\"><i>Fragment A</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.b\"><i>Fragment B</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.c\"><i>Fragment C</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.d\"><i>Fragment D</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.w\"><i>Fragment W</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.x\"><i>Fragment X</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.y\"><i>Fragment Y</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.z\"><i>Fragment Z</i><br>\n                    </td>\n                    <td id=\"nucleicBaseLoss\">\n                        <button onclick=\"toggleCheckBox('nucleicBaseLoss', true)\">✔</button>\n                        <button onclick=\"toggleCheckBox('nucleicBaseLoss', false)\">✘︎</button><br>\n                        <!--\n                            <input type=\"checkbox\" name=\"nucleic.fragmentation.ab\"><i>Fragment A minus Base</i><br>\n                        -->\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.dh2o\"><i>Fragment D - H<sub>2</sub>O</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.zch2\"><i>Fragment Z - CH<sub>2</sub></i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.baseLoss\"><i>Terminal base loss</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.abcdBaseLoss\"><i>Base loss for ABCD fragments</i><br>\n                        <i>&nbsp;(active only for selected a,b,c,d fragmentations)</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.wxyzBaseLoss\"><i>Base loss for WXYZ fragments</i><br>\n                        <i>&nbsp;(active only for selected w,x,y,z fragmentations)</i><br>\n                    </td>\n                    <td id=\"nucleicInternal\">\n                        <button onclick=\"toggleCheckBox('nucleicInternal', true)\">✔</button>\n                        <button onclick=\"toggleCheckBox('nucleicInternal', false)\">✘︎</button><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.aw\"><i>Internal fragment A / W</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.bw\"><i>Internal fragment B / W</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.abw\"><i>Internal fragment A minus base / W</i><br>\n                        <input type=\"checkbox\" name=\"nucleic.fragmentation.aby\"><i>Internal fragment A minus base / Y</i><br>\n                     \n                    </td>\n                </tr>\n            </table>\n            \n\n         </td>\n    </tr>\n    \n    \n</table>\n</form>\n</div>\n\n<script>\n    function toggle(element) {\n        let nextStyle=element.nextElementSibling.style\n        if (nextStyle.display===\"none\") {\n            nextStyle.display = \"block\";\n            element.innerHTML='▼';\n        } else {\n            nextStyle.display = \"none\";\n            element.innerHTML='▶';\n        }\n    }\n    \n    function togglePeptidic(element) {\n        window.setTimeout( () => {\n            let sequenceKind=$(\"input[name='sequenceKind']:checked\").val();\n            let nodes=document.querySelectorAll('.nucleic, .peptidic, .mixture');\n            for (let node of nodes) {\n                if (node.className===sequenceKind) {\n                    node.style.display='table-row';\n                } else {\n                    node.style.display='none';\n                }\n            }\n        })\n    }\n    \n    togglePeptidic();\n    \n    function toggleCheckBox(target, boolean) {\n        console.log(target);\n        document.getElementById(target)\n            .querySelectorAll('[type=checkbox]')\n            .forEach( (input) => {\n                input.checked=boolean;\n            })\n        $('#twigForm').trigger('submit');\n    }\n\n    \n</script>\n"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [["yes"]],
              "tabSize": [4]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 66,
            "height": 39
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 7,
      "vars_in": [{}],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "formTemplate"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": ["text"],
              "expanded": [[]],
              "storeObject": [[]],
              "displayValue": [[]],
              "searchBox": [["search"]],
              "sendButton": [[]],
              "output": ["new"],
              "storedObject": ["{}"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 56,
            "top": 0
          },
          "size": {
            "width": 33,
            "height": 75
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 124,
            "top": 0
          },
          "size": {
            "width": 51,
            "height": 79
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 8,
      "vars_in": [
        {
          "rel": "value",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "console.log('Loading experimental spectrum');\n\nAPI.createData('fragments', []);\nAPI.createData('kindAnnotations', []);\nAPI.createData('annotations', []);\nAPI.createData('fullSpectrum', []);\nAPI.createData('widthAnnotation', []);\nAPI.createData('totalQuantity', []);\n\nlet variable=API.getData('experimentalRow');\n\nvar experimentalChart = await Util.getChartFromMass(variable, {\n    name: 'experimental mass'\n});\nconst massData=experimentalChart.data[0];\nAPI.cache('massData', massData);\nAPI.cache('shiftFunction', undefined);\nAPI.cache('previousZoom', {});\n\nAPI.doAction('loadSpectrum');"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "vh/eln/util/index",
                "alias": "Util"
              },
              {
                "lib": "src/util/ui",
                "alias": "UI"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 54,
            "top": 0
          },
          "size": {
            "width": 65,
            "height": 29
          },
          "zIndex": 0,
          "display": true,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load experimental file",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 9,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "experimentalRow"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Load experimental file",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "var action=getAction() || {name:''};\nvar sample=API.cache('sample');\nconsole.log(\"Receive action: \",action);\n\nif (!sample) return;\n\nif(this.action) {\n    switch (action.name) {\n    default:\n        sample.handleAction(action);\n    }    \n} else if(this.variable) {\n    await sample.handleDrop(this.variable, false, {\n        autoJcamp: false\n    });\n    setTimeout( () => {\n        API.doAction('selectRow', API.getData('mass').length-1);\n    },0);\n}\n\n    "
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 8,
            "top": 0
          },
          "size": {
            "width": 70,
            "height": 68
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "ampleRoc"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 10,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "droppedMS"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "refresh"
        },
        {
          "rel": "execute",
          "name": "save"
        },
        {
          "rel": "execute",
          "name": "deleteAttachment"
        },
        {
          "rel": "execute",
          "name": "updateAttachments"
        },
        {
          "rel": "execute",
          "name": "unattach"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/dragdrop/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "label": ["Drop or paste your mass spectrum here"],
              "dragoverlabel": [null],
              "hoverlabel": ["Drag'n drop or paste here"],
              "fileSelectLabel": ["Select file"],
              "labelFontSize": [18],
              "checkOptions": [["promptAmbiguous"]],
              "inputOptions": [["allowDrop", "allowPaste", "allowFileInput"]]
            }
          ],
          "vars": [
            [
              {
                "filter": "ext",
                "extension": "*",
                "filetype": "text",
                "type": "",
                "variable": "file"
              }
            ]
          ],
          "string_general": [
            {
              "askFilename": [["yes"]]
            }
          ],
          "string": [
            [
              {
                "filter": "mime",
                "extension": "*",
                "type": "",
                "variable": "str"
              }
            ]
          ],
          "photo": [
            [
              {
                "variable": "photo"
              }
            ]
          ]
        }
      },
      "id": 11,
      "vars_in": [],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onRead",
          "rel": "dataarray",
          "jpath": [],
          "name": "droppedMS"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "zindex": 1,
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 56,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": true,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "admin"
        },
        "Pubchem": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Pubchem"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 153,
            "top": 6,
            "right": 0
          },
          "size": {
            "width": 48,
            "height": 8
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": true,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "EditAccurate": {
          "position": {
            "left": 110,
            "top": 0,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 12
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": true,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Form": {
          "position": {
            "left": 110,
            "top": 0,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 12
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": true,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "RocSample": {
          "position": {
            "left": 119,
            "top": 10,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 12
          },
          "display": true,
          "title": "Superimpose exp. spectrum",
          "wrapper": true,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Info": {
          "position": {
            "left": 110,
            "top": 14,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "PeakPicking": {
          "position": {
            "left": 110,
            "top": 14,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Kendrick": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "admin"
        },
        "KendrickAdmin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "admin"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 41,
            "top": 44
          },
          "size": {
            "width": 14,
            "height": 18
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 50,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 50,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Calculate X shift function": {
          "position": {
            "left": 110,
            "top": 14,
            "right": 0
          },
          "size": {
            "width": 28,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 71,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 71,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 71,
            "right": 0
          },
          "size": {
            "width": 56,
            "height": 7
          },
          "display": false,
          "title": "Superimpose exp. spectrum",
          "wrapper": false,
          "created": true,
          "name": "Default layer",
          "bgColor": [255, 255, 255, 0]
        }
      },
      "title": "Superimpose exp. spectrum",
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ]
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "editable"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [[]],
              "toolbar": [[]],
              "colorjpath": [[]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": ["row"],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "if (this.event==='rowsSelected') {\n    if (this.rows.length===1) {\n        var item=this.rows[0].item;\n        if (! item.accurate) {\n            item.accurate={};\n        }\n    }\n}\n"
              ],
              "customJpaths": [
                "jcamp.dUrl,pdf.dUrl,file.dUrl,jcamp.data,experiment,injection,mode,ionisation,instrument,analyzer"
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "Filename",
                "jpath": [],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "twig:\"{{text.filename|slice[13:]}}{{jcamp.filename|slice[13:]}}{{file.filename|slice[13:]}}{{filename|slice[13:]}}{{txt.filename|slice[13:]}}\"",
                "editorOptions": "",
                "width": 123,
                "hideColumn": [],
                "id": 0.5614620027423662
              },
              {
                "name": "Experiment",
                "jpath": ["experiment"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 36,
                "hideColumn": [],
                "id": 0.19343458731019392
              },
              {
                "name": "Instrument",
                "jpath": ["instrument"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 54,
                "hideColumn": [],
                "id": 0.5984635534908007
              },
              {
                "name": "Injection",
                "jpath": ["injection"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 58,
                "hideColumn": [],
                "id": 0.4440781889121179
              },
              {
                "name": "Ionisation",
                "jpath": ["ionisation"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 64,
                "hideColumn": [],
                "id": 0.9973739496351861
              },
              {
                "name": "Mode",
                "jpath": ["mode"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 53,
                "hideColumn": [],
                "id": 0.9216934912994934
              },
              {
                "name": "Analyzer",
                "jpath": ["analyzer"],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 90,
                "hideColumn": [],
                "id": 0.6432890519670444
              },
              {
                "name": "Download",
                "jpath": ["jcamp", "dUrl"],
                "editor": "none",
                "forceType": "downloadLink",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 30,
                "hideColumn": [],
                "id": 0.11161724654147442
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "delete",
                "tooltip": "Delete mass and attached file",
                "icon": "fa-trash",
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "action": "unattach",
                "position": "begin",
                "clickMode": "text",
                "isAction": true
              },
              {
                "name": "ⓘ",
                "tooltip": "Spectrum information",
                "icon": "fa-info-circle",
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "action": "SpectrumInfo",
                "position": "end",
                "clickMode": "text",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 64
          },
          "size": {
            "width": 56,
            "height": 23
          },
          "zIndex": 0,
          "display": true,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 154,
            "top": 32
          },
          "size": {
            "width": 48,
            "height": 12
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 55,
            "top": 0
          },
          "size": {
            "width": 54,
            "height": 12
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 87,
            "top": 35
          },
          "size": {
            "width": 81,
            "height": 31
          },
          "zIndex": 0,
          "display": true,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 120,
            "top": 60
          },
          "size": {
            "width": 52,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "LoadExample": {
          "position": {
            "left": 72,
            "top": 0
          },
          "size": {
            "width": 61,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 58
          },
          "size": {
            "width": 56,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 58
          },
          "size": {
            "width": 56,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 56
          },
          "size": {
            "width": 56,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 56
          },
          "size": {
            "width": 56,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 56
          },
          "size": {
            "width": 56,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of experimental spectra",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 12,
      "vars_in": [
        {
          "rel": "list",
          "name": "mass"
        }
      ],
      "actions_in": [
        {
          "rel": "selectRow",
          "name": "selectRow"
        },
        {
          "rel": "unsetActiveRow",
          "name": "deselectRow"
        }
      ],
      "actions_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "selectExperimentalRow"
        },
        {
          "event": "_onLoaded",
          "rel": "_moduleId",
          "jpath": [],
          "name": "LoadPrefs"
        }
      ],
      "vars_out": [
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": [],
          "name": "experimentalRow"
        },
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": ["accurate"],
          "name": "accurate"
        },
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": ["peak"],
          "name": "massPeaks"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Reload sample",
              "icon": "fa-sync",
              "action": "refresh",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Select columns to display",
              "icon": "fa-cogs",
              "action": "ModulePrefs",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "List of experimental spectra",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "console.log('Excecute action: ',this.action.name)\n\nlet action=this.action.name;\nlet value=this.action.value;\nconst emdb=API.cache('emdb');\nswitch (action) {\n    case 'SpectrumInfo' :\n        const jcampInfo = await API.require('vh/eln/util/jcampInfo');\n        jcampInfo(this.action.value);\n        break;\n    case 'ShowGroups': {\n        API.require('vh/chemistry/showMfGroupsList').then( showMfGroupsList => showMfGroupsList(API.cache('MolecularFormula')) );\n        break;\n    }\n    case 'zoomChanged': {\n            if (! emdb) return;\n            let currentZoom=this.action.value;\n            let previousZoom=API.cache('previousZoom') || {};\n            if (previousZoom.from===currentZoom.from && previousZoom.to===currentZoom.to) return;\n            API.cache('previousZoom',currentZoom)\n            let experimental=emdb.experimentalSpectrum;\n            if (! experimental) return;\n            let bestPeaks=experimental.getBestPeaks( \n                {\n                    from:value.from,\n                    to:value.to\n                }\n            );\n            API.createData('annotations', experimental.JsGraph.getPeaksAnnotation(bestPeaks));\n        }\n        break;\n    case 'clearExperimentalSpectrum': {\n        emdb.experimentalSpectrum=undefined;\n        API.createData('experimentalChart', undefined);\n        API.createData('kindAnnotations', undefined);\n        API.createData('annotations', undefined);\n        API.doAction('deselectRow', undefined);\n        API.doAction('calculate', API.getData('preferences'));\n    }\n    case 'ExplodeSequence': {\n        const MolecularFormula = API.cache('MolecularFormula');\n        let preferences=API.getData('preferences');\n        switch (String(preferences.sequenceKind)) {\n            case 'peptidic':\n                preferences.peptidic.sequence=MolecularFormula.Peptide.convertAASequence(String(preferences.peptidic.sequence))\n                preferences.triggerChange();\n                break;\n            case 'nucleic':\n                preferences.nucleic.sequence=MolecularFormula.Nucleotide.sequenceToMF(String(preferences.nucleic.sequence), preferences.nucleic.info.resurrect())\n                preferences.triggerChange();\n                break;\n        }\n        break;\n    }\n    case 'autoPeakWidth':\n        let peaksWidth=API.cache('peaksWidth');\n        let fct;\n        if (peaksWidth) {\n            fct = 'var width = '+ peaksWidth.A.toPrecision(5) + ' * mass ** '+peaksWidth.B.toPrecision(5) + ';\\n';\n            fct += 'return {bottom: massError + width * 3, top: massError + width}';\n        } else {\n            fct='';\n        }\n        let preferences=API.getData('preferences');\n        preferences.mass.similarity.widthFunction=fct;\n        preferences.triggerChange();\n        break;\n    case 'createSimilarityPeakWidth':\n        if (value && value.ms && value.ms.similarity) {\n            let similarity=value.ms.similarity;\n            let em=value.ms.em;\n            let annotations=[];\n            let halfBottom=value.ms.similarity.width.bottom/2;\n            let halfTop=value.ms.similarity.width.top/2;\n            annotations.push({\n                type:'rect',\n                position: [\n                    { x: em-halfTop, y: '5px' },\n                    { x: em+halfTop, y: '10px'}\n                ]\n            });\n            annotations.push({\n                type:'rect',\n                position: [\n                    { x: em-halfBottom, y: '15px' },\n                    { x: em+halfBottom, y: '20px'}\n                ]\n            });\n            API.createData('widthAnnotation', annotations);\n        }\n        break;\n    case 'ResetPreferences': {\n            let preferences=API.getData('preferences');\n            preferences.resetValue();\n        }\n        break;\n}\n\n\n\n"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 54,
            "top": 30
          },
          "size": {
            "width": 65,
            "height": 45
          },
          "zIndex": 0,
          "display": true,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Actions zoom / clear",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Actions zoom / clear",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "All the actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 13,
      "vars_in": [{}],
      "actions_in": [
        {
          "rel": "execute",
          "name": "zoomChanged"
        },
        {
          "rel": "execute",
          "name": "clearExperimentalSpectrum"
        },
        {
          "rel": "execute",
          "name": "autoPeakWidth"
        },
        {
          "rel": "execute",
          "name": "createSimilarityPeakWidth"
        },
        {
          "rel": "execute",
          "name": "ResetPreferences"
        },
        {
          "rel": "execute",
          "name": "ExplodeSequence"
        },
        {
          "rel": "execute",
          "name": "ShowGroups"
        },
        {
          "rel": "execute",
          "name": "SpectrumInfo"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "All the actions",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": ["html"],
              "outputType": [null],
              "btnvalue": ["Send script"],
              "iseditable": [["editable"]],
              "hasButton": [[]],
              "variable": [[]],
              "storeOnChange": [["store"]],
              "debouncing": [0],
              "script": [
                "{%set exp=trackMove.experimentalChart %}\n{%set full=trackMove.fullSpectrum %}\n\n<style>\n    #peakResult th {\n        text-align: left;\n    }\n</style>\n\n<table id='peakResult'>\n{%if exp %}\n<tr>\n    <th>Experimental</th>\n    <td>\n        m/z: {{rendertype(exp.trueX,{numeral:'0.00000'})}}\n        {%if exp.yClosest %}\n            ({{rendertype(exp.yClosest,{numeral:'0.00%'})}})\n        {%endif%}\n    </td>\n</tr>\n{%endif%}\n{%if full %}\n<tr>\n    <th>Theoretical</th>\n    <td>m/z: {{rendertype(full.xClosest,{numeral:'0.00000'})}}</td>\n</tr>\n{%endif%}\n</table>"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [["yes"]],
              "tabSize": [4]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 59,
            "top": 20
          },
          "size": {
            "width": 40,
            "height": 26
          },
          "zIndex": 0,
          "display": true,
          "title": "Twig for peak picking",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 14,
      "vars_in": [{}],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "twigPeak"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Twig for peak picking",
      "zindex": 6
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [""],
              "modifyInForm": [[]],
              "debouncing": [0],
              "formOptions": [["keepFormValueIfDataUndefined"]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 116,
            "top": 39
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 100,
            "top": 20
          },
          "size": {
            "width": 29,
            "height": 26
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 111,
            "top": 39
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 111,
            "top": 39
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 115,
            "top": 32
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 115,
            "top": 32
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 115,
            "top": 32
          },
          "size": {
            "width": 23,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 15,
      "vars_in": [
        {
          "rel": "value",
          "name": "trackMove"
        },
        {
          "rel": "tpl",
          "name": "twigPeak"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["x"],
                    "wheelAction": ["zoomY"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": ["none"],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "selectScatter": [[]],
                    "independantYZoom": [["yes"]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": [""],
                    "beforeSpacing": ["0.1"],
                    "afterSpacing": ["0.1"],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [[]],
                    "label": [""],
                    "beforeSpacing": ["0"],
                    "afterSpacing": ["0"],
                    "min": ["0"],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "similarityExperimental",
                      "axis": "0",
                      "adaptTo": "0",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "1",
                      "strokestyle": "1",
                      "plotcontinuous": "automass",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    },
                    {
                      "variable": "similarityTheoretical",
                      "axis": "1",
                      "adaptTo": "0",
                      "plotcolor": [255, 1, 6, 0.45],
                      "strokewidth": "2",
                      "strokestyle": "1",
                      "plotcontinuous": "discrete",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    },
                    {
                      "variable": "similarityDifference",
                      "axis": "1",
                      "adaptTo": "0",
                      "plotcolor": [255, 248, 1, 0.35],
                      "strokewidth": "8",
                      "strokestyle": "1",
                      "plotcontinuous": "discrete",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 145,
            "top": 60
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": true,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 63,
            "top": 3
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 135,
            "top": 45
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": false,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 135,
            "top": 45
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": false,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 63,
            "top": 3
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 135,
            "top": 51
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": false,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 135,
            "top": 51
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": false,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 135,
            "top": 51
          },
          "size": {
            "width": 41,
            "height": 27
          },
          "zIndex": 0,
          "display": false,
          "title": "Similarity information",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 16,
      "vars_in": [
        {
          "rel": "chart",
          "name": "similarityExperimental"
        },
        {
          "rel": "chart",
          "name": "similarityTheoretical"
        },
        {
          "rel": "chart",
          "name": "similarityDifference"
        },
        {
          "rel": "annotations",
          "name": "widthAnnotation"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Similarity information",
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["xy"],
                    "wheelAction": ["none"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": [null],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [[]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["Peak width [u]"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "peaksWidths",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [4, 4, 223, 1],
                      "strokewidth": "0.000001",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": ["markers"],
                      "markerShape": "1",
                      "markerSize": 1,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    },
                    {
                      "variable": "peaksWidthFit",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [255, 1, 28, 0.56],
                      "strokewidth": "4",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 74,
            "top": 76
          },
          "size": {
            "width": 37,
            "height": 23
          },
          "zIndex": 0,
          "display": true,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 39
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 8
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 141,
            "top": 77
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Result of the regression of the peaks width",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 17,
      "vars_in": [
        {
          "rel": "chart",
          "name": "peaksWidths"
        },
        {
          "rel": "chart",
          "name": "peaksWidthFit"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Result of the regression of the peaks width",
      "zindex": 6
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [[]],
              "maxEntries": [1],
              "editable": [[]],
              "editSearchRegexp": [null],
              "editReplace": [null],
              "debounce": [0],
              "defaultvalue": [null],
              "font": [null],
              "fontcolor": [[0, 0, 0, 1]],
              "fontsize": ["18pt"],
              "align": ["center"],
              "valign": ["middle"],
              "rendererOptions": [""],
              "forceType": ["latex"],
              "sprintf": [null],
              "sprintfOrder": [null],
              "preformatted": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 9,
            "top": 40
          },
          "size": {
            "width": 25,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 7,
            "top": 10
          },
          "size": {
            "width": 25,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 18,
      "vars_in": [
        {
          "rel": "value",
          "name": "peaksWidthTex"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "if (this.button) { // just used for debug\n    this.action={\n        name:this.button\n    }\n}\n\nconst UI=await API.require('src/util/ui');\nlet currentAnalysisResults=API.getData('currentAnalysisResults');\n\nlet userAnalysisResults=API.cache(\"userAnalysisResults\");\n\nswitch (this.action.name) {\n    case 'saveResultTemplate': {\n        if (! API.cache(\"userAnalysisResults\")) {\n            UI.showNotification('Only available when linked to a database','warning');\n            return;\n        }\n        let value = (currentAnalysisResults) ? currentAnalysisResults.resurrect().$id[3] : '';\n        let name=await UI.enterValue({\n            label: 'Enter the preference name',\n            buttonLabel: 'Save',\n            value\n        });\n        if (!name) return;\n        let result = await userAnalysisResults.saveTemplate(name, API.getData('preferences').resurrect(), {\n            preferences: API.getData('preferences').resurrect(),\n            description: API.getData('description').resurrect()\n        });\n        API.doAction('refreshResults');\n        break;\n    }\n    case 'saveResult': {\n        let value = (currentAnalysisResults) ? currentAnalysisResults.resurrect().$id[3] : '';\n        let name=await UI.enterValue({\n            label: 'Enter the name',\n            buttonLabel: 'Save',\n            value\n        });\n        if (!name) return;\n        await userAnalysisResults.save(name, API.getData('preferences').resurrect(), {\n            preferences: API.getData('preferences').resurrect(),\n            fragments: API.getData('fragments').resurrect(),\n            description: API.getData('description').resurrect()\n        });\n        API.doAction('refreshResults');\n        break;\n    }\n    case 'deleteResultTemplate':\n    case 'deleteResult':\n        await userAnalysisResults.delete(this.action.value);\n        API.doAction('refreshResults');\n        break;\n    case 'loadResultTemplate': {\n        let result = await userAnalysisResults.loadResult(this.action.value);\n        API.createData('description', result.description);\n        let newPreferences=result.preferences;\n        let preferences=API.getData('preferences');\n        let sampleData=API.getData('sample');\n        if (sampleData) {\n            let firstPeptide=Sequence.getFirstPeptide(sampleData);\n            if (firstPeptide && firstPeptide.sequence) {\n                if (preferences) {\n                    preferences.setChildSync( ['peptidic','sequence'], firstPeptide.sequence );                   \n                }\n            }\n            \n            let firstNucleotide=Sequence.getFirstNucleotide(sampleData);\n            if (firstNucleotide && firstNucleotide.sequence) {\n                if (preferences) {\n                    preferences.setChildSync( ['nucleic','sequence'], firstNucleotide.sequence );                   \n                }\n            }\n        }\n        copyPreferences(newPreferences, preferences);\n        preferences.triggerChange();\n        API.getData('formTemplate').triggerChange();\n        break;\n    }\n    case 'loadResult': {\n        let result = await userAnalysisResults.loadResult(this.action.value);\n        API.createData('description', result.description);\n        let preferences=API.getData('preferences');\n        copyPreferences(result.preferences, preferences);\n        preferences.triggerChange();\n        API.createData('fragments', result.fragments);\n        break;\n    }\n    case 'refreshResults':\n        await userAnalysisResults.refresh();\n        break;\n    case 'selectResultTemplate':\n        let templates=API.getData('analysisTemplates');\n        if (! templates) {\n            UI.showNotification('Only available when linked to a database','warning');\n            return;\n        }\n        let result = await UI.form(`\n            <div style=\"zoom: 1.5;\">\n                <form>\n                    <p style=\"padding-bottom: 10px\">\n                    Reload one of the previously saved preferences:\n                    </p>\n                    <select name='template'>\n                        ${templates.map( template => {\n                            let key=String(template.$id[3]);\n                            let _id=String(template._id);\n                            return `\n                                <option value=\"${_id}\">${key}</option>\n                            `\n                        })}\n                        \n                    </select>\n                    <input type=\"submit\" value=\"Load preferences\"/>\n                </form>\n            </div>\n        `)\n        \n        if (result.template) {\n            API.doAction('loadResultTemplate', {_id:result.template})\n        }\n        \n        break;\n}\n\nfunction copyPreferences(newPreferences, preferences) {\n    Object.keys(newPreferences).forEach( key => {\n        preferences[key]=JSON.parse(JSON.stringify(newPreferences[key]))\n    })\n}\n\n\n\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "vh/eln/Sequence",
                "alias": "Sequence"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "saveResult",
                "label": "Save",
                "hide": [],
                "disable": []
              },
              {
                "name": "deleteResult",
                "label": "Delete",
                "hide": [],
                "disable": []
              },
              {
                "name": "loadResult",
                "label": "Load",
                "hide": [],
                "disable": []
              },
              {
                "name": "refreshResults",
                "label": "Refresh",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 90,
            "top": 43
          },
          "size": {
            "width": 38,
            "height": 39
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with result actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with result actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 110,
            "top": 0
          },
          "size": {
            "width": 70,
            "height": 74
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with result actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 30,
            "top": 0
          },
          "size": {
            "width": 79,
            "height": 87
          },
          "zIndex": 0,
          "display": true,
          "title": "Deal with result actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with result actions",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 90,
            "top": 43
          },
          "size": {
            "width": 38,
            "height": 39
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 90,
            "top": 43
          },
          "size": {
            "width": 38,
            "height": 39
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 90,
            "top": 43
          },
          "size": {
            "width": 38,
            "height": 39
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 19,
      "vars_in": [{}],
      "actions_in": [
        {
          "rel": "execute",
          "name": "saveResult"
        },
        {
          "rel": "execute",
          "name": "loadResult"
        },
        {
          "rel": "execute",
          "name": "deleteResult"
        },
        {
          "rel": "execute",
          "name": "refreshResults"
        },
        {
          "rel": "execute",
          "name": "saveResultTemplate"
        },
        {
          "rel": "execute",
          "name": "deleteResultTemplate"
        },
        {
          "rel": "execute",
          "name": "loadResultTemplate"
        },
        {
          "rel": "execute",
          "name": "selectResultTemplate"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Deal with result actions",
      "zindex": 6
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "editable"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [[]],
              "toolbar": [[]],
              "colorjpath": [[]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": ["row"],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "Label",
                "jpath": ["$id", "3"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "🗑",
                "tooltip": "Delete result",
                "icon": "fa-trash",
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "action": "deleteResult",
                "position": "end",
                "clickMode": "text",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 6
          },
          "size": {
            "width": 29,
            "height": 35
          },
          "zIndex": 0,
          "display": true,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 29,
            "height": 43
          },
          "zIndex": 0,
          "display": true,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save results",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 20,
      "vars_in": [
        {
          "rel": "list",
          "name": "analysisResults"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "loadResult"
        }
      ],
      "vars_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "currentAnalysisResults"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Save result",
              "icon": "fa-save",
              "action": "saveResult",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Load / Save results",
      "zindex": 6
    },
    {
      "url": "modules/types/edition/quill_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": [["isEditable"]],
              "toolbarMode": ["all"],
              "debouncing": [100],
              "storeInView": [["yes"]],
              "modifyVarIn": [["yes"]],
              "className": ["quill"],
              "css": [".quill {}"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 108,
            "top": 0
          },
          "size": {
            "width": 74,
            "height": 86
          },
          "zIndex": 0,
          "display": true,
          "title": "Report",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 30,
            "top": 36
          },
          "size": {
            "width": 77,
            "height": 38
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 21,
      "vars_in": [
        {
          "rel": "html",
          "name": "description"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Report",
      "richtext": {
        "ops": [
          {
            "insert": "\n"
          }
        ]
      },
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [["yes"]],
              "asyncAwait": [["top"]],
              "script": [
                "if (typeof IframeBridge !== 'undefined') {\n    this.showButton('save');\n    this.showButton('saveLoad');\n}\n\nconst dataSynced = API.getData('dataSynced');\nif (dataSynced && !dataSynced.resurrect()) {\n    this.getButton('save').setColor('green');\n    this.enableButton('save');\n} else {\n    this.getButton('save').setColor('grey');\n    this.disableButton('save');\n}\n\nswitch (this.variable) {\n    case 'currentLayer':\n        this.button=get('currentLayer')+'';\n        break;\n    case 'sample':\n        this.showButton('report');\n}\n\nvar layers={\n    'home': {\n        layer:'Default layer'\n    },\n    'peaks': {\n        layer: 'PeakPicking',\n    },\n    'saveLoad': {\n        layer:'SaveLoadResults',\n    },\n    'report': {\n        layer:'Report',\n    },\n}\n\nif (layers[this.button]) {\n    for (var key of Object.keys(layers)) {\n        this.enableButton(key);\n    }\n    API.switchToLayer(layers[this.button].layer)\n    this.disableButton(this.button);\n} else {\n    switch (this.button) {\n        case 'save':\n            API.doAction('save');\n            break;\n    }\n}\n\nif (typeof IframeBridge !== 'undefined') {\n    this.showButton('save');   \n}\n\n\n"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "home",
                "label": "Home",
                "hide": [],
                "disable": []
              },
              {
                "name": "peaks",
                "label": "Peak picking and recalibration",
                "hide": [],
                "disable": []
              },
              {
                "name": "saveLoad",
                "label": "Write report",
                "hide": ["hide"],
                "disable": []
              },
              {
                "name": "report",
                "label": "Report",
                "hide": [],
                "disable": []
              },
              {
                "name": "save",
                "label": "Save data",
                "hide": ["hide"],
                "disable": ["disable"]
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 53,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 67,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 65,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 110,
            "top": 0
          },
          "size": {
            "width": 58,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 6,
            "top": 0
          },
          "size": {
            "width": 50,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 60,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 6,
            "top": 0
          },
          "size": {
            "width": 50,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 6,
            "top": 0
          },
          "size": {
            "width": 50,
            "height": 5
          },
          "zIndex": 0,
          "display": false,
          "title": "Switch buttons",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 22,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "currentLayer"
        },
        {
          "rel": "inputValue",
          "name": "dataSynced"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Switch buttons",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "console.log('Calculate annotations when fragments change')\n\nconst fragments=API.getData('fragments').slice(0);\nfragments.sort( (a,b) => a.ms.em-b.ms.em);\n\n// we group the fragments by experimental mass\nlet currentMSEM=Number.NaN;\nconst groups=[];\nlet currentGroup=[];\nfor (let fragment of fragments) {\n    if (currentMSEM!==Number(fragment.ms.em)) {\n\n        currentMSEM=Number(fragment.ms.em);\n        currentGroup=[];\n        groups.push(currentGroup);\n    }\n    currentGroup.push(fragment);\n}\nconst annotations=[];\n\n// fragments may have exactly the same mass. We need to join them\n\nfor (let group of groups) {\n    let annotation={};\n    for (let i=0; i<group.length; i++) {\n        let fragment=group[i];\n        fragment.color=getColor(fragment.comment,10);\n        fragment.modification=fragment.parts.filter(part => part).join(' ');\n        if (i===0) {\n            annotation={\n                position:[\n                    {x:fragment.ms.em,y:\"1px\", dx:\"-1px\"},\n                    {x:fragment.ms.em,y:(20+(group.length*12))+\"px\", dx:\"0px\"}\n                ],\n                type:\"rect\",\n                fillColor: getColor(fragment.comment,fragment.ms.charge),\n                strokeColor: getColor(fragment.comment,fragment.ms.charge),\n                _highlight: fragment._highlight,\n                info: fragment,\n                label: []\n            }\n        }\n        annotation.label.push(\n            {\n                text: fragment.comment,\n                position: {\n                    x:fragment.ms.em,\n                    dx: \"2px\",\n                    y: (10+(i*12))+\"px\"\n                }\n            }\n        );\n        if (i===(group.length-1)) {\n            annotation.label.push(\n                {\n                    text: 'Z:'+fragment.ms.charge,\n                    color:'grey',\n                    position: {\n                        x:fragment.ms.em,\n                        dx: \"2px\",\n                        y: (22+(i*12))+\"px\"\n                    }\n                }\n            )\n        }\n    }\n    annotations.push(annotation);\n}\n\nAPI.createData('kindAnnotations', annotations);\n\n\nfunction getColor(annotation, charge) {\n    if (! annotation) return;\n    \n    var alpha=1/(Math.abs(charge)||1);\n    var type=annotation.replace('cmp-','').charAt(0);\n    switch (type) {\n        case 'a':\n            return \"rgba(255,0,255,\"+alpha+\")\";\n            break;\n        case 'b':\n            return \"rgba(255,0,0,\"+alpha+\")\";\n            break;\n        case 'c':\n            return \"rgba(255,255,0,\"+alpha+\")\";\n            break;\n        case 'd':\n            return \"rgba(255,127,127,\"+alpha+\")\";\n            break;\n        case 'w':\n            return \"rgba(127,127,255,\"+alpha+\")\";\n            break;\n        case 'x':\n            return \"rgba(0,255,255,\"+alpha+\")\";\n            break;\n        case 'y':\n            return \"rgba(0,255,0,\"+alpha+\")\";\n            break;\n        case 'z':\n            return \"rgba(0,0,255,\"+alpha+\")\";\n            break;\n    }\n}\n\n"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 56,
            "top": 44
          },
          "size": {
            "width": 95,
            "height": 37
          },
          "zIndex": 0,
          "display": true,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate annotations when fragments change",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 23,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "fragments"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Calculate annotations when fragments change",
      "zindex": 6
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [
                "{% if totalQuantity>0 %}\n    <h2>\n        Assigned quantity: {{rendertype(totalQuantity,{numeral:'0.00%'})}}\n    </h2>\n{% endif %}\n{% if fragments.length>0 %}\n    <h2>\n        Distinct fragments found: {{fragments.length}}\n    </h2>\n{% endif %}\n{% if numberPossibilities>0 %}\n    <h2>\n        Number of theoretical combinations: {{numberPossibilities}}\n    </h2>\n{% endif %}"
              ],
              "modifyInForm": [[]],
              "debouncing": [0],
              "formOptions": [["keepFormValueIfDataUndefined"]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 145,
            "top": 50
          },
          "size": {
            "width": 41,
            "height": 9
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 135,
            "top": 41
          },
          "size": {
            "width": 41,
            "height": 8
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 135,
            "top": 41
          },
          "size": {
            "width": 41,
            "height": 8
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 135,
            "top": 41
          },
          "size": {
            "width": 41,
            "height": 8
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 24,
      "vars_in": [
        {
          "rel": "value",
          "name": "totalQuantity"
        },
        {
          "rel": "value",
          "name": "fragments"
        },
        {
          "rel": "value",
          "name": "numberPossibilities"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "editable"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [[]],
              "toolbar": [[]],
              "colorjpath": [[]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": ["row"],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "Label",
                "jpath": ["$id", "3"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "🗑",
                "tooltip": "Delete result",
                "icon": "fa-trash",
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "action": "deleteResultTemplate",
                "position": "end",
                "clickMode": "text",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 42
          },
          "size": {
            "width": 29,
            "height": 44
          },
          "zIndex": 0,
          "display": true,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 44
          },
          "size": {
            "width": 29,
            "height": 43
          },
          "zIndex": 0,
          "display": true,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 135,
            "top": 22
          },
          "size": {
            "width": 22,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Load / Save preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 25,
      "vars_in": [
        {
          "rel": "list",
          "name": "analysisTemplates"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "loadResultTemplate"
        }
      ],
      "vars_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "currentTemplateResults"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Save preferences as template",
              "icon": "fa-save",
              "action": "saveResultTemplate",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Load / Save preferences",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "console.log('Calculate mass shift')\n\nlet prefs=API.getData('preferences').resurrect();\nif (! prefs.mass.shift) prefs.mass.shift={};\nconsole.log(prefs);\n\nlet emdb=API.cache('emdb');\nif (!emdb.experimentalSpectrum) return;\n\nif (this.button) {\n    this.action={\n        name:this.button\n    }\n}\n\nconsole.log('Execute: ',this.button);\nif (!prefs.mass.shift.minSimilarity) return;\n\nlet fragments=API.getData('fragments');\n\nlet regression;\nconsole.log(prefs.mass)\ntry {\n    regression=emdb.massShifts(fragments, {\n        minSimilarity : (prefs.mass.shift.minSimilarity / 100) || 0.95,\n        minLength : prefs.mass.shift.minLength || 10 \n    });\n} catch (e) {\n    UI.showNotification(e.toString(),'warning');\n    return;\n}\n\nswitch (this.action.name) {\n    case 'calculateXShiftFunction':\n        API.createData('shifts', regression.shifts);\n        API.createData('shiftsPPM', regression.shiftsPPM);\n        API.createData('shiftsRegression', regression.fit);\n        API.createData('shiftsRegressionTex', regression.tex);\n        API.cache('shiftFunction', (mass) => regression.predictFct(mass) );\n        API.doAction('UpdateAnalyseButtons', undefined);\n        break;\n    case 'calculateXNewShiftFunction':\n        API.createData('shiftsCorrected', regression.shifts);\n        API.createData('shiftsPPMCorrected', regression.shiftsPPM);\n        API.createData('shiftsCorrectedRegression', regression.fit);\n        API.createData('shiftsCorrectedRegressionTex', regression.tex);\n        break;\n}\n\n\n\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "https://www.lactame.com/lib/ml/3.6.0/ml.js",
                "alias": "ML"
              },
              {
                "lib": "src/util/ui",
                "alias": "UI"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "calculateXShiftFunction",
                "label": "calculateXShiftFunction",
                "hide": [],
                "disable": []
              },
              {
                "name": "calculateXNewShiftFunction",
                "label": "calculateXNewShiftFunction",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 104,
            "top": 8
          },
          "size": {
            "width": 73,
            "height": 74
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 104,
            "top": 8
          },
          "size": {
            "width": 69,
            "height": 66
          },
          "zIndex": 0,
          "display": true,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Rescale X axis to correct experimental errors",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 26,
      "vars_in": [{}],
      "actions_in": [
        {
          "rel": "execute",
          "name": "calculateXShiftFunction"
        },
        {
          "rel": "execute",
          "name": "calculateXNewShiftFunction"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Rescale X axis to correct experimental errors",
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["xy"],
                    "wheelAction": ["none"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": [null],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [[]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["error [Da]"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "shifts",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "0.00001",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": ["markers"],
                      "markerShape": "1",
                      "markerSize": 1,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    },
                    {
                      "variable": "shiftsRegression",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [255, 1, 46, 0.39],
                      "strokewidth": "3",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 52,
            "top": 6
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": " Graph of m/z errors (in Da) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 52,
            "top": 8
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 27,
      "vars_in": [
        {
          "rel": "chart",
          "name": "shifts"
        },
        {
          "rel": "chart",
          "name": "shiftsRegression"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": " Graph of m/z errors (in Da) before post-calibration",
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["xy"],
                    "wheelAction": ["none"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": [null],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [[]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["error [Da]"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "shiftsCorrected",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "0.00001",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": ["markers"],
                      "markerShape": "1",
                      "markerSize": 1,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    },
                    {
                      "variable": "shiftsCorrectedRegression",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [255, 1, 46, 0.39],
                      "strokewidth": "3",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 52,
            "top": 39
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": " Graph of m/z errors (in Da) after post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 52,
            "top": 41
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 28,
      "vars_in": [
        {
          "rel": "chart",
          "name": "shiftsCorrected"
        },
        {
          "rel": "chart",
          "name": "shiftsCorrectedRegression"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": " Graph of m/z errors (in Da) after post-calibration",
      "zindex": 6
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [[]],
              "maxEntries": [1],
              "editable": [[]],
              "editSearchRegexp": [null],
              "editReplace": [null],
              "debounce": [0],
              "defaultvalue": [null],
              "font": [null],
              "fontcolor": [[0, 0, 0, 1]],
              "fontsize": ["14pt"],
              "align": ["center"],
              "valign": ["middle"],
              "rendererOptions": [""],
              "forceType": ["latex"],
              "sprintf": [null],
              "sprintfOrder": [null],
              "preformatted": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 52,
            "top": 7
          },
          "size": {
            "width": 51,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 43
          },
          "size": {
            "width": 51,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 29,
      "vars_in": [
        {
          "rel": "value",
          "name": "shiftsRegressionTex"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [[]],
              "maxEntries": [1],
              "editable": [[]],
              "editSearchRegexp": [null],
              "editReplace": [null],
              "debounce": [0],
              "defaultvalue": [null],
              "font": [null],
              "fontcolor": [[0, 0, 0, 1]],
              "fontsize": ["14pt"],
              "align": ["center"],
              "valign": ["middle"],
              "rendererOptions": [""],
              "forceType": ["latex"],
              "sprintf": [null],
              "sprintfOrder": [null],
              "preformatted": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 53,
            "top": 40
          },
          "size": {
            "width": 51,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 43
          },
          "size": {
            "width": 51,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 30,
      "vars_in": [
        {
          "rel": "value",
          "name": "shiftsCorrectedRegressionTex"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 4
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [[]],
              "maxEntries": [1],
              "editable": [[]],
              "editSearchRegexp": [null],
              "editReplace": [null],
              "debounce": [0],
              "defaultvalue": [null],
              "font": ["Arial Black"],
              "fontcolor": [[255, 0, 0, 1]],
              "fontsize": [null],
              "align": ["left"],
              "valign": [null],
              "rendererOptions": [""],
              "forceType": [""],
              "sprintf": [null],
              "sprintfOrder": [null],
              "preformatted": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 61,
            "top": 32
          },
          "size": {
            "width": 25,
            "height": 4
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 61,
            "top": 32
          },
          "size": {
            "width": 25,
            "height": 4
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 61,
            "top": 32
          },
          "size": {
            "width": 25,
            "height": 4
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 61,
            "top": 32
          },
          "size": {
            "width": 25,
            "height": 4
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 31,
      "vars_in": [
        {
          "rel": "value",
          "name": "rescaledMass"
        }
      ],
      "actions_in": [{}],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 2
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["xy"],
                    "wheelAction": ["none"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": [null],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [[]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["error [ppm]"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "shiftsPPM",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "0.00001",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": ["markers"],
                      "markerShape": "1",
                      "markerSize": 1,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 104,
            "top": 6
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": " Graph of m/z errors (in ppm) before post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 74,
            "top": 1
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 32,
      "vars_in": [
        {
          "rel": "chart",
          "name": "shiftsPPM"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": " Graph of m/z errors (in ppm) before post-calibration",
      "zindex": 6
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [""],
                    "zoom": ["xy"],
                    "wheelAction": ["none"],
                    "wheelbaseline": [0],
                    "fullOut": ["both"],
                    "legend": [null],
                    "legendOptions": [["isSerieHideable", "isSerieSelectable"]],
                    "mouseTracking": [[]],
                    "trackingAxis": ["x"],
                    "selectScatter": [[]],
                    "independantYZoom": [[]]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["m/z"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "axismodification": ["none"]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [["display"]],
                    "label": ["error [ppm]"],
                    "beforeSpacing": ["0"],
                    "afterSpacing": [0],
                    "min": [""],
                    "max": [""],
                    "nbTicksPrimary": [5],
                    "fitToAxisOnFromTo": [[]]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [[]],
                    "stackVerticalSpacing": [0]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "shiftsPPMCorrected",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [1, 1, 255, 1],
                      "strokewidth": "0.00001",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": ["markers"],
                      "markerShape": "1",
                      "markerSize": 1,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": []
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": ["{}"]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 104,
            "top": 39
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": " Graph of m/z errors (in ppm) after post-calibration",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 52,
            "top": 41
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of error (in Da) between found and expected after correction",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 33,
      "vars_in": [
        {
          "rel": "chart",
          "name": "shiftsPPMCorrected"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": " Graph of m/z errors (in ppm) after post-calibration",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "let emdb=API.cache('emdb');\nif (! emdb.experimentalSpectrum) return;\n\nlet preferences=API.getData('preferences').resurrect();\n\nlet fragments=API.getData('selectedFragments');\nif (! fragments || fragments.length<2) {\n    fragments=API.getData('fragments');\n    API.createData('reportInfo','Schema use all the fragments because less than 2 were selected');\n} else {\n    API.createData('reportInfo','Schema using '+fragments.length+' fragments');\n}\n\nfragments=fragments.map( fragment => {\n    return {\n        type: String(fragment.comment),\n        similarity: Math.round(fragment.ms.similarity.value*100),\n        charge: Number(fragment.ms.charge)\n    }\n});\nlet parserOptions={};\nlet sequence='';\n\nswitch(preferences.sequenceKind) {\n    case 'peptidic':\n        sequence=preferences.peptidic.sequence;\n        parserOptions.kind='peptide';\n        break;\n    case 'nucleic':\n        parserOptions=preferences.nucleic.info;\n        sequence=preferences.nucleic.sequence;\n        break;\n    default:\n        return;\n}\n\nconsole.log(parserOptions);\n\nconst MolecularFormula=API.cache('MolecularFormula');\n\nlet options=JSON.parse(JSON.stringify(API.getData('svgPreferences')));\noptions.parsing=parserOptions;\n\nlet svgReport = MolecularFormula.Report.sequenceSVG(sequence, fragments, options);\n\nAPI.createData('svgReport', svgReport);\n\n"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 58,
            "height": 74
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 58,
            "height": 74
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 58,
            "height": 74
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        }
      },
      "id": 34,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "selectedFragments"
        },
        {
          "rel": "inputValue",
          "name": "fragments"
        },
        {
          "rel": "inputValue",
          "name": "svgPreferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 2
    },
    {
      "url": "modules/types/display/panzoom/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "highlightStrategy": ["none"],
              "transformThrottling": [0]
            }
          ],
          "img": [
            [
              {
                "variable": "svgReport",
                "opacity": "1",
                "order": "",
                "rendering": "default",
                "scaling": "maxIfLarge",
                "rerender": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 78,
            "top": 6
          },
          "size": {
            "width": 42,
            "height": 64
          },
          "zIndex": 0,
          "display": true,
          "title": "Double click to reset zoom",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 59,
            "top": 31
          },
          "size": {
            "width": 42,
            "height": 50
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "ReportSelector": {
          "position": {
            "left": 59,
            "top": 31
          },
          "size": {
            "width": 42,
            "height": 50
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        }
      },
      "id": 35,
      "vars_in": [
        {
          "rel": "svg",
          "name": "svgReport"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Export report as SVG",
              "icon": "fa-file-image",
              "action": "downloadReport",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Show fullscreen", "Print"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Double click to reset zoom",
      "zindex": 2
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "rowNumbering",
                  "forceFitColumns",
                  "filterColumns",
                  "highlightScroll"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [["select"]],
              "toolbar": [[]],
              "colorjpath": [["color"]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": [["cell"]],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/db85d9cc12c6204e4a3afb69bba6d695f6f8bad5/src/modules/types/edition/slick_grid/view.js#L918-L940"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "Sequence",
                "jpath": ["sequence"],
                "editor": "none",
                "forceType": "string",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 103,
                "hideColumn": []
              },
              {
                "name": "Type",
                "jpath": ["comment"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 55,
                "hideColumn": []
              },
              {
                "name": "MF",
                "jpath": ["mf"],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 55,
                "hideColumn": []
              },
              {
                "name": "Ionization",
                "jpath": ["ionization", "mf"],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 60,
                "hideColumn": []
              },
              {
                "name": "MF Mass",
                "jpath": ["em"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 60,
                "hideColumn": []
              },
              {
                "name": "m/z",
                "jpath": ["ms", "em"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 59,
                "hideColumn": []
              },
              {
                "name": "ppm",
                "jpath": ["ms", "ppm"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 50,
                "hideColumn": []
              },
              {
                "name": "Charge",
                "jpath": ["ms", "charge"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 50,
                "hideColumn": []
              },
              {
                "name": "Intensity",
                "jpath": ["ms", "target", "intensity"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 59,
                "hideColumn": []
              },
              {
                "name": "Similarity",
                "jpath": ["ms", "similarity", "value"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00%'",
                "editorOptions": "",
                "width": 58,
                "hideColumn": []
              },
              {
                "name": "Qty",
                "jpath": ["ms", "similarity", "quantity"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00%'",
                "editorOptions": "",
                "width": 65,
                "hideColumn": []
              },
              {
                "name": "Group",
                "jpath": ["group"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 53,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": [""]
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 59,
            "top": 2
          },
          "size": {
            "width": 77,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 121,
            "top": 21
          },
          "size": {
            "width": 46,
            "height": 37
          },
          "zIndex": 0,
          "display": false,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 55.999997806549075,
            "top": 0.9985794067382813
          },
          "size": {
            "width": 46,
            "height": 37
          },
          "zIndex": 0,
          "display": false,
          "title": "Untitled",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Twig": {
          "position": {
            "left": 59,
            "top": 0
          },
          "size": {
            "width": 89,
            "height": 19
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Form": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "LoadExample": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 30,
            "top": 6
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 30,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 77,
            "height": 35
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 6
          },
          "size": {
            "width": 77,
            "height": 38
          },
          "zIndex": 0,
          "display": true,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 59,
            "top": 7
          },
          "size": {
            "width": 77,
            "height": 23
          },
          "zIndex": 0,
          "display": true,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 59,
            "top": 7
          },
          "size": {
            "width": 77,
            "height": 23
          },
          "zIndex": 0,
          "display": false,
          "title": "List of fragments",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 36,
      "vars_in": [
        {
          "rel": "list",
          "name": "fragments"
        }
      ],
      "actions_in": [{}],
      "title": "List of fragments",
      "vars_out": [
        {
          "event": "onRowsSelect",
          "rel": "rows",
          "jpath": [],
          "name": "selectedFragments"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Export Data"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "if (this.button) {\n    this.action={\n        name: this.button,\n        value: API.getData('experimentalRow')\n    }\n}\n\nif (this.variable) {\n    this.action={\n        name: this.variable,\n        value: {}\n    }\n}\n\nconst CouchAttachments=await API.require('src/util/couchdbAttachments');\n\nlet cdb = new CouchAttachments('https://couch.cheminfo.org/cheminfo-public/1fdc4456ddfda089d9a67f9366ac6883');\n\nswitch (this.action.name) {\n    case 'selectExperimentalRow': // reloading preferences for some examples\n        if (! this.action.value.preferences) {\n            API.getData('title').setValue('');\n            return;\n        }\n        let preferences=API.getData('preferences');\n        for (let key of Object.keys(preferences)) {\n            preferences[key]=undefined;\n        }\n        for (let key of Object.keys(this.action.value.preferences)) {\n            preferences[key]=this.action.value.preferences[key];\n        }\n        preferences.triggerChange();\n        setTimeout( () => {API.getData('formTemplate').triggerChange();},10);\n        API.getData('templateKendrick').triggerChange();\n        API.getData('title').setValue(this.action.value.title || '')\n        break;\n    case 'SetReferenceName': {\n        const preferences=API.getData('preferences');\n        const reference = await UI.enterValue({\n            value: preferences.reference || ''\n        })\n        if (reference) {\n            preferences.reference = reference;\n        }\n        break;\n    }\n    case 'LoadDemos':\n        loadDemos();\n        break;\n    case 'SaveDemoPreferences':\n        cdb = new CouchAttachments(); // Saving must be 'local'\n        let value=JSON.parse(JSON.stringify(this.action.value));\n        value.preferences=API.getData('preferences');\n        value.reference=value.preferences.reference;\n        value.title=API.getData('title');\n        value.jcamp=undefined;\n        value.text=undefined;\n        await cdb.upload({\n            data: JSON.stringify(value),\n            name: 'upload/'+value.filename+'.json',\n            contentType: 'application/json'\n        });\n        break;\n}\n\nasync function loadDemos() {\n    let files=(await cdb.list()).filter( entry => entry.filename.match(/^upload/));\n    files.forEach( file => {\n        file.code=file.filename.replace(/.*\\/(.*)\\..*/,'$1');\n        file.extension=file.filename.replace(/.*\\.(.*)/,'$1');\n    });\n    files=files.filter( file => file.extension.match(/jdx|txt|json/));\n   \n    files.sort( (a,b) => (a.extension==='json') ? 1 : -1);\n    const entries={};\n    // 3 kind of files: .txt, .jdx and .json\n    // .json will contain meta information as well as preferences\n    // we need to group them !\n    \n    for (let file of files) {\n        switch (file.extension) {\n            case 'jdx':\n                entries[file.code]={\n                    filename: file.code,\n                    jcamp: {\n                        filename: 'spectra/mass/'+file.code,\n                        dUrl: file.url,\n                        data: {\n                             type: 'jcamp',\n                             url: file.url\n                        }   \n                    }\n                }\n                break;\n            case 'txt':\n                entries[file.code]={\n                    filename: file.code,\n                    text: {\n                        filename: 'spectra/mass/'+file.code,\n                        dUrl: file.url,\n                        data: {\n                             type: 'text',\n                             url: file.url\n                        }   \n                    }\n                }\n                break;\n            case 'json':\n                if (! entries[file.code]) return;\n                let content=await cdb.get(file.filename);\n                entries[file.code].reference=content.reference;\n                Object.assign( entries[file.code], content );\n                break;\n        }\n    }\n    \n    let mass = API.getData('mass');\n    mass.length=0;\n    Object.keys(entries).forEach( key => mass.push(entries[key]));\n    mass.sort( (a,b) => (a.filename<b.filename) ? -1 : 1);\n    mass.triggerChange();\n}\n\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "src/util/ui",
                "alias": "UI"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "LoadDemos",
                "label": "LoadDemos",
                "hide": [],
                "disable": []
              },
              {
                "name": "SaveDemoPreferences",
                "label": "Save demo preferences",
                "hide": [],
                "disable": []
              },
              {
                "name": "SetReferenceName",
                "label": "Set reference name",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Load de mo files",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 66,
            "height": 73
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 37,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "LoadDemos"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "LoadDemos"
        },
        {
          "rel": "execute",
          "name": "selectExperimentalRow"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": ["view"],
              "expanded": [["expand"]],
              "storeObject": [[]],
              "displayValue": [[]],
              "searchBox": [["search"]],
              "sendButton": [[]],
              "output": ["new"],
              "storedObject": ["{}"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 72,
            "top": 33
          },
          "size": {
            "width": 61,
            "height": 49
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 38,
      "vars_in": [
        {
          "rel": "value",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [[]],
              "toolbar": [[]],
              "colorjpath": [[]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": ["row"],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "m/z",
                "jpath": ["x"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00000'",
                "editorOptions": "",
                "hideColumn": []
              },
              {
                "name": "Intensity",
                "jpath": ["y"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "hideColumn": []
              },
              {
                "name": "Width (Da)",
                "jpath": ["width"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00000'",
                "editorOptions": "",
                "hideColumn": []
              },
              {
                "name": "Charge",
                "jpath": ["charge"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of peaks (centroids)",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 72
          },
          "size": {
            "width": 51,
            "height": 15
          },
          "zIndex": 0,
          "display": true,
          "title": "List of peaks (centroids)",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 39,
      "vars_in": [
        {
          "rel": "list",
          "name": "peaks"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Export Data"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "List of peaks (centroids)"
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": ["view"],
              "expanded": [["expand"]],
              "storeObject": [[]],
              "displayValue": [[]],
              "searchBox": [["search"]],
              "sendButton": [[]],
              "output": ["new"],
              "storedObject": ["{}"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 130,
            "top": 0
          },
          "size": {
            "width": 38,
            "height": 43
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 40,
      "vars_in": [
        {
          "rel": "value",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": ["html"],
              "outputType": [null],
              "btnvalue": ["Send script"],
              "iseditable": [["editable"]],
              "hasButton": [["button"]],
              "variable": [[]],
              "storeOnChange": [["store"]],
              "debouncing": [0],
              "script": [
                "{%set prefs=svgPreferences %}\n\n<style>\n    #svgPrefs th {\n        text-align: left;\n    }\n</style>\n\n<table id='svgPrefs'>\n    <tr>\n        <th nowrap>Width</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"width\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Left / Right borders</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"leftRightBorders\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Space between residues</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"spaceBetweenResidues\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Space between internal lines</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"spaceBetweenInternalLines\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Stroke width</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"strokeWidth\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Label size</th>\n        <td>\n            <input type=\"number\" step=\"any\" min=\"0\" max=\"200\" name=\"labelSize\" style=\"width: 40px\" />\n        </td>\n    </tr>\n    <tr>\n        <th nowrap>Ignore individual charges</th>\n        <td>\n            <input type=\"checkbox\" name=\"merge.charge\" />\n        </td>\n    </tr>\n</table>"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [["yes"]],
              "tabSize": [4]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 102,
            "top": 31
          },
          "size": {
            "width": 47,
            "height": 37
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 102,
            "top": 31
          },
          "size": {
            "width": 47,
            "height": 37
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 41,
      "vars_in": [{}],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "twigTemplateSVG"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [""],
              "modifyInForm": [["yes"]],
              "debouncing": [100],
              "formOptions": [["keepFormValueIfDataUndefined"]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "SVG preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 121,
            "top": 6
          },
          "size": {
            "width": 23,
            "height": 26
          },
          "zIndex": 0,
          "display": true,
          "title": "SVG preferences",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 103,
            "top": 69
          },
          "size": {
            "width": 52,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 103,
            "top": 69
          },
          "size": {
            "width": 52,
            "height": 22
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 42,
      "vars_in": [
        {
          "rel": "form",
          "name": "svgPreferences"
        },
        {
          "rel": "tpl",
          "name": "twigTemplateSVG"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "SVG preferences"
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": ["view"],
              "expanded": [["expand"]],
              "storeObject": [[]],
              "displayValue": [[]],
              "searchBox": [["search"]],
              "sendButton": [[]],
              "output": ["new"],
              "storedObject": ["{}"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 150,
            "top": 22
          },
          "size": {
            "width": 23,
            "height": 46
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 150,
            "top": 22
          },
          "size": {
            "width": 23,
            "height": 46
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        }
      },
      "id": 43,
      "vars_in": [
        {
          "rel": "value",
          "name": "svgPreferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": ["html"],
              "outputType": [null],
              "btnvalue": ["Send script"],
              "iseditable": [["editable"]],
              "hasButton": [[]],
              "variable": [[]],
              "storeOnChange": [["store"]],
              "debouncing": [2000],
              "script": [
                "<style>\n    #peakForm h1,#peakForm h2 {\n        padding-top:20px;\n        padding-bottom:10px;\n    }\n    #peakForm th {\n        vertical-align: top;\n        text-align: left;\n        font-size: 1.2em;\n    }\n    #peakForm button {\n        background-color: 'red';\n        font-size: 0.8em;\n        border: 1px outset darkGrey;\n        background-color: lightGrey;\n    }\n    #peakForm td {\n        vertical-align: top;\n    }\n    #peakForm>table>tbody>tr>td, #emForm tr>th {\n      padding-bottom: 1em;\n    }\n    #peakForm input[type=number] {\n        width: 50px;\n    }\n    #peakForm i {\n        font-size: 0.8em;\n        font-style: italic;\n    }\n    #peakForm .border td, #peakForm .border th {\n        padding: 4px;\n        border: 0.5px solid grey;\n    }\n</style>\n<form>\n<div id='peakForm'>\n    <h1>\n        Peak similarity parameters\n    </h1>\n  \n\n    <table>\n        <tr>\n            <td>Width: </td>\n            <td>\n                Define the way peaks are compared<br>\n                Bottom: <input type=\"text\" name=\"mass.similarity.widthBottom\" size=\"10\"> -\n                Top: <input type=\"text\" name=\"mass.similarity.widthTop\" size=\"10\"><br>\n                You can as well provide a function that calculates top / bottom depending m/z.\n                If defined it will superseed the parameters from/to.<br>\n                <textarea name=\"mass.similarity.widthFunction\" cols=70 rows=3 placeholder=\"return { bottom: 0.01 + mass / 8000, top: 0.01 + mass / 8000 / 2 };\"></textarea>\n            </td>\n        </tr>\n        <tr>\n        <td nowrap>Post calibration:</td>\n            <td>\n                Determine the best function to shift m/z axis<br>\n                Minimum similarity: <input type=\"text\" name=\"mass.shift.minSimilarity\" value=\"0.95\" size=\"5\"> %<br>\n                Minimal number of peaks: <input type=\"text\" name=\"mass.shift.minLength\" value=\"10\" size=\"5\">\n            </td>\n        </tr>\n    </table>\n</div>  \n    "
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [["yes"]],
              "tabSize": [4]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 57,
            "top": 40
          },
          "size": {
            "width": 66,
            "height": 39
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 44,
      "vars_in": [{}],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "peakTemplate"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [[]],
              "template": [""],
              "modifyInForm": [["yes"]],
              "debouncing": [250],
              "formOptions": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 135,
            "top": 37
          },
          "size": {
            "width": 56,
            "height": 44
          },
          "zIndex": 0,
          "display": false,
          "title": "Settings",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 53,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 55,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 40
          },
          "size": {
            "width": 56,
            "height": 40
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 134,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 82
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 72
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 6
          },
          "size": {
            "width": 51,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 56,
            "height": 49
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 110,
            "top": 23
          },
          "size": {
            "width": 58,
            "height": 64
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Calculate X shift function": {
          "position": {
            "left": 57,
            "top": 0
          },
          "size": {
            "width": 51,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 56,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 45,
      "vars_in": [
        {
          "rel": "tpl",
          "name": "peakTemplate"
        },
        {
          "rel": "form",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "event": "onFormSubmitted",
          "rel": "form",
          "jpath": [],
          "name": "estimate"
        },
        {
          "event": "onFormChanged",
          "rel": "form",
          "jpath": [],
          "name": "estimate"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Explode sequence",
              "icon": "fa-bomb",
              "action": "ExplodeSequence",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "List possible group abbreviations",
              "icon": "fa-table",
              "action": "ShowGroups",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Default prefrences",
              "icon": "fa-dot-circle",
              "action": "ResetPreferences",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Reload preferences",
              "icon": "fa-tasks",
              "action": "selectResultTemplate",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Save preferences as template",
              "icon": "fa-save",
              "action": "saveResultTemplate",
              "position": "begin",
              "color": [100, 100, 100, 1]
            },
            {
              "title": "Auto calculate peak width",
              "icon": "fa-arrows-alt-h",
              "action": "autoPeakWidth",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "",
      "zindex": 6
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "const MolecularFormula=API.cache('MolecularFormula');\n\nconst mfsArray = DataObject.resurrect(API.getData('preferences').mfsArray);\n\nlet variableGroups=JSON.parse(JSON.stringify(MolecularFormula.generateMFs(mfsArray)));\n\nconst fragments = API.getData('fragments').resurrect();\n\nconsole.log(fragments);\n\nfor (let variableGroup of variableGroups) {\n    variableGroup.numberMatch=getCount(fragments, variableGroup.parts)\n    console.log(variableGroup);\n    \n}\n\n\nAPI.createData('variableGroups', variableGroups);\n\n\nfunction getCount(fragments, parts) {\n    let count=0;\n    for (let fragment of fragments) {\n         if (partsMatch(fragment.parts, parts)) {\n            count++;\n        }\n    }\n    return count;\n}\n\n\nfunction partsMatch(parts1, parts2) {\n    for (let i=0; i<5; i++) {\n        if (parts1[i]!==parts2[i]) return false;\n    }\n    return true;\n}\n"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 9,
            "top": 0
          },
          "size": {
            "width": 48,
            "height": 63
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "ReportSelector"
        }
      },
      "id": 46,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "preferences"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "editable",
                  "filterColumns"
                ]
              ],
              "copyPaste": [[]],
              "copyPasteOptions": [["newRows"]],
              "autoColumns": [["select"]],
              "toolbar": [[]],
              "colorjpath": [["color"]],
              "slick.defaultColumnWidth": [null],
              "slick.rowHeight": [null],
              "slick.headerRowHeight": [30],
              "slick.selectionModel": ["row"],
              "idProperty": [""],
              "filterType": ["pref"],
              "filterRow": [
                "if (this.event==='rowsChanged') {\n    for (var i=0; i<this.rows.length; i++) {\n        var row=this.rows[i];\n        row.item.color = row.item.numberMatch>2 ? '#98F274' : '#FFE9E8';\n    }\n    rerender();\n}\n"
              ],
              "customJpaths": [""]
            }
          ],
          "cols": [
            [
              {
                "name": "Variable group 1",
                "jpath": ["parts", "0"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": "",
                "hideColumn": []
              },
              {
                "name": "Variable group 2",
                "jpath": ["parts", "1"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": "",
                "hideColumn": []
              },
              {
                "name": "Variable group 3",
                "jpath": ["parts", "2"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": "",
                "hideColumn": []
              },
              {
                "name": "Variable group 4",
                "jpath": ["parts", "3"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": "",
                "hideColumn": []
              },
              {
                "name": "Variable group 5",
                "jpath": ["parts", "4"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": "",
                "hideColumn": []
              },
              {
                "name": "Nb match",
                "jpath": ["numberMatch"],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 98,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [255, 255, 255, 0],
                "color": [0, 0, 0, 1],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [[{}]],
          "data": [
            {
              "saveInView": [[]],
              "varname": [""],
              "data": ["[]"]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 45
          },
          "size": {
            "width": 77,
            "height": 25
          },
          "zIndex": 0,
          "display": true,
          "title": "Select list of variable groups to generate ",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 59,
            "top": 0
          },
          "size": {
            "width": 48,
            "height": 63
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "ReportSelector"
        }
      },
      "id": 47,
      "vars_in": [
        {
          "rel": "list",
          "name": "variableGroups"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "event": "onRowsSelect",
          "rel": "rows",
          "jpath": [],
          "name": "selectedVariableGroups"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [[]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": "Select list of variable groups to generate "
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [["editor", "buttons"]],
              "execOnLoad": [[]],
              "asyncAwait": [["top"]],
              "script": [
                "\nconst selectedVariableGroups = API.getData('selectedVariableGroups').resurrect();\nconst fragments = API.getData('fragments').resurrect();\n\n\n\nconst selectedFragments=[];\nfor (let fragment of fragments) {\n    for (let variable of selectedVariableGroups) {\n         console.log(fragment.parts, variable.parts)\n        if (partsMatch(fragment.parts, variable.parts)) {\n           \n            selectedFragments.push(fragment);\n            continue;\n        }\n    }\n}\n\nconsole.log(selectedFragments);\n\n\nAPI.createData('selectedFragments', selectedFragments);\n\n\n\nfunction partsMatch(parts1, parts2) {\n    for (let i=0; i<5; i++) {\n        if (parts1[i]!==parts2[i]) return false;\n    }\n    return true;\n}"
              ]
            }
          ],
          "libs": [[{}]],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 110,
            "top": 4
          },
          "size": {
            "width": 56,
            "height": 59
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "ReportSelector"
        }
      },
      "id": 48,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "selectedVariableGroups"
        }
      ],
      "actions_in": [{}],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [[]],
              "maxEntries": [1],
              "editable": [[]],
              "editSearchRegexp": [null],
              "editReplace": [null],
              "debounce": [0],
              "defaultvalue": [null],
              "font": ["Helvetica"],
              "fontcolor": [[152, 0, 0, 1]],
              "fontsize": ["12pt"],
              "align": [null],
              "valign": [null],
              "rendererOptions": [""],
              "forceType": [""],
              "sprintf": [null],
              "sprintfOrder": [null],
              "preformatted": [[]]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "CalcualteSpectrum": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "CalcualteSpectrum"
        },
        "Twig": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Twig"
        },
        "Form": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Form"
        },
        "LoadExample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "LoadExample"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "SaveLoadResults": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults"
        },
        "SaveLoadResults Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "SaveLoadResults Admin"
        },
        "Calculate X shift function": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Calculate X shift function"
        },
        "Report": {
          "position": {
            "left": 78,
            "top": 2
          },
          "size": {
            "width": 42,
            "height": 4
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": false,
          "created": true,
          "name": "Report"
        },
        "Report admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "Report admin"
        },
        "ReportSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [255, 255, 255, 0],
          "wrapper": true,
          "created": true,
          "name": "ReportSelector"
        }
      },
      "id": 49,
      "vars_in": [
        {
          "rel": "value",
          "name": "reportInfo"
        }
      ],
      "actions_in": [{}],
      "vars_out": [],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [100, 100, 100, 1]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [["Open Preferences"]]
          }
        ]
      },
      "css": [
        {
          "fontSize": [""],
          "fontFamily": [""]
        }
      ],
      "title": ""
    }
  ],
  "variables": [
    {
      "jpath": [""]
    }
  ],
  "configuration": {
    "title": "Peptide and nucleotide and complex mixtures"
  },
  "actionscripts": [
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": ["ExplodeSequence"],
            "script": [
              "\nconst MolecularFormula = API.cache('MolecularFormula');\nvar prefs = API.getData('preferences');\nswitch (String(prefs.sequenceKind)) {\n    case 'peptidic': {\n        let sequence=MolecularFormula.Peptide.convertAASequence(prefs.sequence);\n        prefs.setChildSync(['sequence'],sequence);\n        break;\n    }\n        \n    case 'nucleic': {\n        let sequence = MolecularFormula.Nucleotide.sequenceToMF(\n            prefs.sequence, prefs.nucleic.info.resurrect()\n        );\n        console.log(prefs.nucleic);\n        prefs.setChildSync(['sequence'],sequence);\n        break;\n    }\n        \n}\n\n\n"
            ]
          }
        ]
      }
    },
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": ["ZoomToLine"],
            "script": [
              "\nlet mass = Number(value.ms.em);\nAPI.doAction('ZoomTo', {\n    from:mass-10,\n    to:mass+10\n})"
            ]
          }
        ]
      }
    },
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": ["downloadReport"],
            "script": [
              "require([\"file-saver\"],function(fileSaver) {\n    var svg=API.getData(\"svgReport\")+'';\n    var blob = new Blob([svg+\"\"], {type: \"image/svg+xml;charset=utf-8\"});\n    fileSaver( blob, \"report.svg\");    \n})\n\n"
            ]
          }
        ]
      }
    },
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": ["ModulePrefs"],
            "script": [
              "const modulePrefsManager=API.cache('modulePrefsManager');\nmodulePrefsManager.updateSlickGridPrefs(value);"
            ]
          }
        ]
      }
    },
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": ["LoadPrefs"],
            "script": [
              "const modulePrefsManager=API.cache('modulePrefsManager');\nmodulePrefsManager.reloadModulePrefs(value);"
            ]
          }
        ]
      }
    }
  ],
  "init_script": [
    {
      "sections": {},
      "groups": {
        "general": [
          {
            "script": [
              "const [Roc,UserAnalysisResults,Sample,Track,Sequence,ModulePrefsManager] = await API.require([\n    'vh/rest-on-couch/Roc',\n    'vh/rest-on-couch/UserAnalysisResults',\n    'vh/eln/Sample',\n    'vh/util/track',\n    'vh/eln/Sequence',\n    'vh/util/ModulePrefsManager',\n]);\n\nconst modulePrefsManager = new ModulePrefsManager( {hasRoc: typeof IframeBridge!==\"undefined\"} );\nAPI.cache('modulePrefsManager',modulePrefsManager);\n\nlet MolecularFormula = await API.require('https://www.lactame.com/lib/molecular-formula/0.52.1/molecular-formula.min.js');\n    // MolecularFormula = await API.require('https://www.lactame.com//lib/molecular-formula/HEAD/molecular-formula.js');\n\nAPI.cache('MolecularFormula',MolecularFormula);\nconst emdb = new MolecularFormula.EMDB();\nAPI.cache('emdb',emdb);\n\n\nlet defaultPreferences={\n    sequence:'',\n    mfRange:'',\n    ionizations: 'H+',\n    mfsArray:[],\n    digestion:{},\n    filter:{},\n    sequenceKind:'',\n    sequence:'',\n    nucleic: {\n        info:{kind:'DNA', fivePrime:'Alcohol'},\n        fragmentation:{\n            a:true, b:true, c:true, d:true, w:true, x:true, y:true, z:true\n        }\n    },\n    peptidic: {\n        protonation:false, protonationPH:7,digestion:{},\n        fragmentation:{\n            a:true, b:true, c:true, x:true, y:true, z:true\n        }, allowNeutralLoss:false\n    },\n    mass:{\n        threshold:1,\n        precision:10,\n        monoisotopic: true,\n        similarity: {\n            widthBottom: 0.2,\n            widthTop: 0.1,\n            widthFunction: '',\n            zone: {low: -0.5, high: 2.5},\n            common: 'second'\n        },\n        shift: {\n            minSimilarity: 0.95,\n            minLength: 10\n        },\n        minSimilarity: 0.7\n    }\n}\n\nlet preferences=await Track('massPeptidePreferences', defaultPreferences, {\n    varName:'preferences'\n});\npreferences.sequenceKind='';\npreferences.triggerChange();\n\nAPI.createData('svgPreferences', {\n    width: 700,\n    leftRightBorders: 50,\n    spaceBetweenResidues: 30,\n    spaceBetweenInternalLines: 12,\n    strokeWidth: 2,\n    labelFontFamily: 'Verdana',\n    labelSize: 8,\n    merge: {\n        charge: true\n    }\n})\n\n\nAPI.createData('description','');\nAPI.createData('fragments', []);\n\nif (typeof IframeBridge !== 'undefined') {\n    IframeBridge.onMessage(onMessage);\n    IframeBridge.ready();\n    async function onMessage(data) {\n        if (data.type === 'tab.data') {\n            var sample = new Sample(data.message.couchDB, data.message.uuid, {\n                track:true,\n                onSync(synced) {\n                    console.log('received synced event', synced);\n                    API.createData('dataSynced', synced);\n                }\n            });\n            API.cache('sample',sample);\n            await sample.waitSampleLoaded();\n              \n            var roc = new Roc(data.message.couchDB);\n            API.cache('roc', roc);\n            \n            modulePrefsManager.setRoc(roc);\n            \n            var userAnalysisResults = new UserAnalysisResults(roc, data.message.uuid);\n            API.cache(\"userAnalysisResults\", userAnalysisResults);\n            userAnalysisResults.refresh();\n            \n          \n            let sampleData=API.getData('sample');\n\n            let firstPeptide=Sequence.getFirstPeptide(sampleData);\n            if (firstPeptide && firstPeptide.sequence) {\n                let prefs=API.getData('preferences');\n                if (prefs) {\n                    prefs.setChildSync( ['peptidic','sequence'], firstPeptide.sequence );                   \n                }\n            }\n            \n            let firstNucleotide=Sequence.getFirstNucleotide(sampleData);\n            if (firstNucleotide && firstNucleotide.sequence) {\n                let prefs=API.getData('preferences');\n                if (prefs) {\n                    prefs.setChildSync( ['nucleic','sequence'], firstNucleotide.sequence );                   \n                }\n            }\n        }\n    }\n} else {\n    var {extSample} = await API.require('vh/eln/SampleFactory');\n    var sample = await extSample();\n    console.log({sample})\n    API.cache('sample',sample);\n    API.createData('LoadDemos','');\n    \n    var userAnalysisResults = new UserAnalysisResults();\n    API.cache(\"userAnalysisResults\", userAnalysisResults);\n    userAnalysisResults.refresh();\n}\n\n\nAPI.require('vh/util/tips').then( Tips => {\n    Tips.showTips({\n        _id:'1fdc4456ddfda089d9a67f9366ac6883',\n        rev:1091,\n    });\n    // Tips.showTips();\n    Tips.addPageHelp({\n        iconSize:'fa-4x',\n        _id:'1fdc4456ddfda089d9a67f9366ac6883',\n    });\n});\n\nAPI.createData('currentLayer','home');\n"
            ]
          }
        ]
      }
    }
  ],
  "custom_filters": [
    {
      "sections": {
        "modules": [
          {
            "sections": {},
            "groups": {
              "modules": [[{}]]
            }
          }
        ],
        "filtersLib": [
          {
            "sections": {},
            "groups": {
              "filters": [[{}]]
            }
          }
        ],
        "filters": [
          {
            "sections": {},
            "groups": {
              "filter": [
                {
                  "name": [null],
                  "script": [null]
                }
              ],
              "libs": [[{}]]
            }
          }
        ]
      },
      "groups": {}
    }
  ],
  "actionfiles": [
    {
      "sections": {},
      "groups": {
        "action": [[{}]]
      }
    }
  ],
  "aliases": [
    {
      "path": "https://www.lactame.com/github/cheminfo-js/visualizer-helper/5662d31a52df100ff318badbd43350fe47053c0a/",
      "alias": "vh"
    },
    {
      "path": "http://localhost:9898/cheminfo-js/visualizer-helper/",
      "alias": "vhxx"
    }
  ]
}
