'use strict';define(function(){function a(a){this.labels=[],this.coords=[],this.lines=[],this.els=[],this.svg=a}return a.prototype.addElement=function(){},a.prototype.resolve=function(){var a=this.svg.getElementsForSprings(),b=a[0],c=a[1];computeSprings(b,this.svg._zoom);for(var d=0;d<b.length;d++)b[d][6]=0,b[d][7]=0,isNaN(b[d][0])?console.log("Error"):(c[d][0].setAttributeNS(null,"x",b[d][0]),c[d][0].setAttributeNS(null,"y",b[d][1]),c[d][0].setAttributeNS(null,"text-anchor",b[d][0]<b[d][4]?"end":"start"),c[d][1].setAttributeNS(null,"display","none"),c[d][1].setAttribute("display","block"),c[d][1].setAttribute("stroke","black"),c[d][1].setAttribute("vector-effect","non-scaling-stroke"),c[d][1].setAttribute("x1",b[d][0]),c[d][1].setAttribute("x2",b[d][4]),c[d][1].setAttribute("y1",b[d][1]-b[d][3]/2),c[d][1].setAttribute("y2",b[d][5]))},a.prototype.allow=function(){this.allowed=!0},a.prototype.forbid=function(){this.allowed=!1},a});function computeSprings(a,b){for(var c,d,e,g,h,k,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=6/b,J=.5,K=.2,L=0;L++,!(2e3<L);){for(c=!0,d=0,e=a.length-1;0<=e;e--){for(g=a[e],E=[0,0],m=g[0]-g[4],n=g[1]-g[5],o=Math.pow(Math.pow(m,2)+Math.pow(n,2),1/2),o<g[10]?(0==o?(g[0]+=g[6]*(Math.random()-.5),g[1]+=g[6]*(Math.random()-.5)):(g[0]=(g[0]-g[4])*(g[8]/o)+g[4],g[1]=(g[1]-g[5])*(g[8]/o)+g[5]),c=!1):(E[0]-=I*Math.pow(o-g[8],2)*m/o,E[1]-=I*Math.pow(o-g[8],2)*n/o),r=g[1]+1.4*g[3],w=g[1]-1.4*g[3],g[0]>g[4]?(p=g[0]+1.1*g[2],u=g[0]-.1*g[2],F=g[0]+g[2]/2):(u=g[0]-1.1*g[2],p=g[0]+.1*g[2],F=g[0]-g[2]/2),k=a.length-1;0<=k;k--)k!=e&&(h=a[k],t=h[1]+1.4*h[3],x=h[1]-1.4*h[3],h[0]>h[4]?(q=h[0]+1.1*h[2],v=h[0]-.1*h[2],G=h[0]+h[2]/2):(v=h[0]-1.1*h[2],q=h[0]+.1*h[2],G=h[0]-h[2]/2),y=Math.min(p,q)-Math.max(u,v),z=Math.min(r,t)-Math.max(w,x),A=Math.max(y,0)*Math.max(z,0),0==A||(B=A*(8/b),H=G-F,C=h[1]+h[3]/2-g[1]-g[3]/2,D=Math.pow(H*H+C*C,.5),E[0]-=B*H/D/(g[2]*g[3]),E[1]-=B*C/D,.5/(g[2]*g[3])));g[6]=(g[6]+K*E[0])*J,g[7]=(g[7]+K*E[1])*J,g[0]+=K*g[6],g[1]+=K*g[7],d+=5e6*(Math.pow(g[6],2)+Math.pow(g[7],2))}if(isNaN(d))break;if(c&&0>d)break}}
